<html>

<head>
<title>SQL Relay - Getting Started With Oracle</title>
<link rel="stylesheet" href="../../../../../css/styles.css">
</head>

<body>

<span class="heading1">Install Software Packages</span><br>

<p>Oracle 12c requires some software packages that may not have been installed
on your system.  Run the following yum command to install them:</p>

<blockquote>
<b>yum install libaio libaio-devel compat-libstdc++-33 elfutils-libelf-devel sysstat unixODBC unixODBC-devel ksh</b>
</blockquote>

<span class="heading1">Configure the Kernel</span><br>

<p>Oracle 12c requires that you at least temporarily increase the values of
a couple of kernel parameters.  To temporarily increase these values, follow
these instructions (as root):</p>

<blockquote>
<b>echo 6815744 &gt; /proc/sys/fs/file-max<br>
echo "9000 65500" &gt; /proc/sys/net/ipv4/ip_local_port_range<br>
echo 262144 &gt; /proc/sys/net/core/rmem_default<br>
echo 4194304 &gt; /proc/sys/net/core/rmem_max<br>
echo 262144 &gt; /proc/sys/net/core/wmem_default<br>
echo 1048576 &gt; /proc/sys/net/core/wmem_max<br>
echo 1048576 &gt; /proc/sys/fs/aio-max-nr<br>
echo 1073741824 &gt; /proc/sys/kernel/shmall<br>
echo 4398046511104 &gt; /proc/sys/kernel/shmmax<br>
echo 4096 &gt; /proc/sys/kernel/shmmni<br>
echo "250 32000 100 128" &gt; /proc/sys/kernel/sem</b>
</blockquote>

<span class="heading1">Install Oracle</span><br>

<p>Now, log in as the oracle user.</p>

<p>Since Oracle 11.2.0 uses a graphical installer, you need to be running X
Windows or point the DISPLAY environment variable to an X Windows session
running somewhere.</p>

<p>I have had problems with the graphical installer on enlightenment and
fluxbox window managers in the past, though they may work for you.</p>

<p>If you have a CD, mount it and cd to the mount point.  If you have a zip
distribution, extract the file using:<p>

<blockquote><b>
unzip linuxamd64_12c_database_1of2.zip<br>
unzip linuxamd64_12c_database_2of2.zip<br>
</b></blockquote>

Change directories to the database directory.<br><br>

Type <b>./runInstaller</b><br><br>

On the <b>Configure Security Updates</b> screen, leave the Email box blank, uncheck the box next to <b>I wish to receive security updates via My Oracle Support</b> and click <b>Next</b>.<br><br>

When the <b>Email Address Not Specified</b> popup appears, click <b>Yes</b>.<br><br>

On the <b>Download Software Updates</b> screen, leave <b>Skip software update</b> checked and click <b>Next</b>.<br><br>

If an <b>Environment does not meet minimum requirements</b> popup appears, just click <b>Yes</b> to continue.  I'm not sure what it's looking for but I've always been able to continue safely.</p>

On the <b>Select Installation Option</b> screen, accept the default <b>Create and configure a database</b>and click <b>Next</b>.<br><br>

On the <b>System Class</b> screen, accept the default <b>Desktop Class</b> and click <b>Next</b>.<br><br>

On the <b>Typical Install Configuration</b> screen, change the <b>Global database name</b> from "orcl.localdomain" to "ora1.localdomain".  Enter a password in the <b>Administrative Password</b> and <b>Confirm Password</b> boxes.  Change the <b>Pluggable database name</b> from "pdborcl" to "pdbora1".  Click <b>Next</b>.<br><br>

If a popup comes up indicating that <b>The ADMIN password entered does not conform to the Oracle recommended standards</b> click <b>Yes</b> to continue.<br><br>

On the <b>Summary</b> screen, click <b>Install</b><br><br>

The <b>Install Product</b> screen will show the progress of the installation<br><br><br>

Partway through the <b>Link binaries</b> phase of the installation, you might get an error indicating that the target <b>links proc gen_pcsfg procob</b> failed.  To resolve this, edit /u01/app/oracle/product/12.1.0/rdbms/lib/env_rdbms.mk and add -lons to the end of the line for RMAN_LINKLINE.  While you're at it, to avoid further errors, add -lons to the end of the line for PLSHPROF_LINKLINE and add -lnnz12 to the end of the line for TG4PWD_LINKLINE.<br><br>

Afterwards, they should look like:<br><br>

<blockquote><pre>
RMAN_LINKLINE=$(LINK) $(OPT) $(S0MAIN) $(SSKRMED) $(SKRMPT) \
        $(LLIBDBTOOLS) $(LLIBCLIENT) $(LLIBSQL) $(LLIBPLSQL) \
        $(LLIBSNLSRTL) $(LLIBUNLSRTL) $(LLIBNLSRTL) \
        $(LLIBSLAX) $(LLIBPLSQL) $(LIBPLCN) $(LINKTTLIBS) -lons
</pre></blockquote>

and:<br><br>

<blockquote><pre>
PLSHPROF_LINKLINE=$(LINK) $(OPT) $(PLSTMAI) $(SSDBED) \
        $(LLIBCLIENT) $(LLIBPLSQL) $(LLIBSLAX) $(LLIBPLSQL) $(LINKTTLIBS) -lons
</pre></blockquote>

and:<br><br>

<blockquote><pre>
TG4PWD_LINKLINE= $(LINK) $(OPT) $(TG4PWDMAI) \
        $(LLIBTHREAD) $(LLIBCLNTSH) $(LINKLDLIBS) -lnnz12
</pre></blockquote>

Then rename /u01/app/oracle/product/12.1.0/lib/stubs to /u01/app/oracle/product/12.1.0/lib/stubs.bak as follows:<br><br>

<blockquote>
mv /u01/app/oracle/product/12.1.0/lib/stubs /u01/app/oracle/product/12.1.0/lib/stubs.bak
</blockquote>

Then click <b>Retry</b>.<br><br>

<p>Eventually, a dialog will pop up asking you to run some scripts as root.
Just follow the directions on the dialog and click <b>Ok</b><br><br>

Soon after, a <b>Database Configuration Assistant</b> dialog should pop up
with a progress bar showing the progress of creating the database.<br><br>

When database creation is complete, a dialog will pop up with a summary.  Click
<b>OK</b>.<br><br>

On the <b>Finish</b> screen click <b>Close</b><br><br>

<span class="heading1">Post-Installation</span><br>

<p>During the installation, the tnsnames.ora file which tells clients how to
connect to the database will most likely have been created in 640 mode, leaving
it unreadable by anyone not in the oinstall group.  There are 2 options here,
either add every user that you want to be able to access oracle to the
oinstall group, or change permissions on tnsnames.ora to make it world-readable.
If you opt for the latter, you can do so using the following command:</p>

<blockquote><b>
chmod o+r /u01/app/oracle/product/11.2.0/network/admin/tnsnames.ora
</b></blockquote>

<p><b>IMPORTANT!!!...</b>

<p>The tnsnames.ora file was probably also created with an entry for connecting
to the container database <b>cdbora1</b> but probably does not have an entry
for connecting to the pluggable database <b>ora1</b>.  Copy and paste the entry
for <b>cdbora1</b> and replace references to <b>cdbora1</b> with <b>ora1</b> in
the copy.  Failure to add this entry will cause the instructions for creating a test schema on the previous page to fail.</p>

</body>

</html>
