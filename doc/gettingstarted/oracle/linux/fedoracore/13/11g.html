<html>

<head>
<title>SQL Relay - Getting Started With Oracle</title>
<link rel="stylesheet" href="../../../../../css/styles.css">
</head>

<body>

<span class="heading1">Install Software Packages</span><br>

<p>Oracle 11g requires some software packages that may not have been installed
on your system.  Run the following yum command to install them:</p>

<blockquote>
<b>yum install libaio libaio-devel compat-libstdc++-33 elfutils-libelf-devel sysstat</b>
</blockquote>

<p>It also requires the <b>pdksh</b> package, version 5.2.14, which is not
available on many modern linux systems.  Versions for older linux systems may
be found at <a href="http://rpmfind.net">rpmfind</a>.  You could either build
and instal an rpm for your system from a source rpm or just try an older
version and see if it works on your system.</p>

<span class="heading1">Configure the Kernel</span><br>

<p>Oracle 11g requires that you at least temporarily increase the values of
a couple of kernel parameters.  To temporarily increase these values, follow
these instructions (as root):</p>

<blockquote>
<b>echo 6815744 &gt; /proc/sys/fs/file-max<br>
echo "9000 65500" &gt; /proc/sys/net/ipv4/ip_local_port_range<br>
echo 262144 &gt; /proc/sys/net/core/rmem_default<br>
echo 4194304 &gt; /proc/sys/net/core/rmem_max<br>
echo 262144 &gt; /proc/sys/net/core/wmem_default<br>
echo 1048576 &gt; /proc/sys/net/core/wmem_max<br>
echo 1048576 &gt; /proc/sys/fs/aio-max-nr<br>
echo 2097152 &gt; /proc/sys/kernel/shmall<br>
echo 2147483648 &gt; /proc/sys/kernel/shmmax<br>
echo 4096 &gt; /proc/sys/kernel/shmmni<br>
echo "250 32000 100 128" &gt; /proc/sys/kernel/sem</b>
</blockquote>

<span class="heading1">Install Oracle</span><br>

<p>Now, log in as the oracle user.</p>

<p>Since Oracle 11.2.0 uses a graphical installer, you need to be running X
Windows or point the DISPLAY environment variable to an X Windows session
running somewhere.</p>

<p>I have had problems with the graphical installer on enlightenment and
fluxbox window managers in the past, though they may work for you.</p>

<p>If you have a CD, mount it and cd to the mount point.  If you have a zip
distribution, extract the file using:<p>

<blockquote><b>
unzip linux_11gR2_database_1of2.zip<br>
unzip linux_11gR2_database_2of2.zip<br>
</b></blockquote>

Change directories to the database directory.<br><br>

Type <b>./runInstaller</b><br><br>

On the first screen, leave the Email box blank, uncheck the box next to <b>I wish to receive security updates via My Oracle Support</b> and click <b>Next</b>.<br><br>

When the <b>Email Address Not Specified</b> popup appears, click <b>Yes</b>.<br><br>

On the <b>Select Installation Option</b> screen, accept the default <b>Create and configure a database</b>and click <b>Next</b>.<br><br>

On the <b>System Class</b> screen, accept the default <b>Desktop Class</b> and click <b>Next</b>.<br><br>

On the <b>Typical Install Configuration</b> screen, change the <b>Global database name</b> from "orcl.localdomain" to "ora1.localdomain".  Enter a password in the <b>Administrative Password</b> and <b>Confirm Password</b> boxes.  Click <b>Next</b><br><br>

On the <b>Create Inventory</b> screen, accept the defaults and click <b>Next</b><br><br>

On the <b>Perform Prerequisite Checks</b> screen, operating system requirements will be checked.  When it's done,
click <b>Next</b>.<br><br>

Some of the prerequisite checks have failed.  Many are likely tunable system parameters and may be fixed by clicking <b>Fix & Check Again</b> and following the instructions.
Others, such as missing packages, may not be fixable by the installer and may require manual intervention.  After fixing them, click <b>Check Again</b>.  When all is well,
a <b>Summary</b> screen will appear.  Click <b>Finish</b>.<br><br>

On the <b>Oracle Configuration Manager Registration</b> screen, just click <b>Next</b>.<br><br>

On the <b>Summary</b> screen, click <b>Install</b><br><br>

The <b>Install Product</b> screen will show the progress of the installation<br><br><br>

Partway through the installation, you may get an error dialog saying something like <b>error invoking target "agent nmhs"</b>.  If you do, then log in as the oracle user, change directories to /u01/app/oracle/product/11.2.0/sysman/lib and run the following command:

<blockquote>
gcc -o /u01/app/oracle/product/11.2.0/sysman/lib/emdctl -L/u01/app/oracle/product/11.2.0/lib/ -L/u01/app/oracle/product/11.2.0/sysman/lib/ -L/u01/app/oracle/product/11.2.0/lib/stubs/       `cat /u01/app/oracle/product/11.2.0/lib/sysliblist` -Wl,-rpath,/u01/app/oracle/product/11.2.0/lib -lm    `cat /u01/app/oracle/product/11.2.0/lib/sysliblist` -ldl -lm   -L/u01/app/oracle/product/11.2.0/lib /u01/app/oracle/product/11.2.0/sysman/lib/s0nmectl.o -lnmectl -lclntsh -L/u01/app/oracle/product/11.2.0/lib  -L/u01/app/oracle/product/11.2.0/sysman/lib/ -lnmemso -lnnz11 -lcore11 -Wl,-rpath,/u01/app/oracle/product/11.2.0/lib/:/u01/app/oracle/product/11.2.0/sysman/lib/:/u01/app/oracle/product/11.2.0/jdk/jre/lib/i386/client:/u01/app/oracle/product/11.2.0/jdk/jre/lib/i386 -L/u01/app/oracle/product/11.2.0/jdk/jre/lib/i386/client -L/u01/app/oracle/product/11.2.0/jdk/jre/lib/i386 -z lazyload -ljava -ljvm -lverify -z nolazyload -Wl,-rpath,/u01/app/oracle/product/11.2.0/lib/:/u01/app/oracle/product/11.2.0/sysman/lib/:/u01/app/oracle/product/11.2.0/jdk/jre/lib/i386/client:/u01/app/oracle/product/11.2.0/jdk/jre/lib/i386 -Wl,--allow-shlib-undefined    `cat /u01/app/oracle/product/11.2.0/lib/sysliblist` -ldl -lm
</blockquote>

Then click the <b>Continue</b>.<br><br>

Eventually, a <b>Database Configuration Assistant</b> dialog should pop up.
The image on
the left hand side will change regularlry, but the dialog itself may not
display anything.  Ignore this, the configuration is occurring.<br><br>

When database creation is complete, a dialog will pop up with a summary.  Click
<b>OK</b>.<br><br>

<p>A dialog will pop up asking you to run some scripts as root.  Just follow the
directions on the dialog and click <b>Ok</b><br><br>

On the <b>Finish</b> screen click <b>Close</b><br><br>

<span class="heading1">Post-Installation</span><br>

<p>During my installation, several directories got created with "localhost" in
their names, but then various utilities expected directories with 
"localhost.localdomain" in them.  I created symbolic links to resolve the
problem:</p>

<blockquote><b>
cd /u01/app/oracle/product/11.2.0<br>
ln -s localhost_ora1 localhost.localdomain_ora1<br>
cd oc4j/j2ee<br>
ln -s OC4J_DBConsole_localhost_ora1 OC4J_DBConsole_localhost.localdomain_ora1<br>
</b></blockquote>

<p>You may or may not run into the same problem.</p>

<p>During the installation, several ancillary processes were started.  You can
shut some of them down by executing the following commands (as oracle):</p>

<blockquote><b>
emctl stop dbconsole<br>
</b></blockquote>

<p>At this point, only the database and tns listener should be running.</p>

<p>During the installation, the tnsnames.ora file which tells clients how to
connect to the database will most likely have been created in 640 mode, leaving
it unreadable by anyone not in the oinstall group.  There are 2 options here,
either add every user that you want to be able to access oracle to the
oinstall group, or change permissions on tnsnames.ora to make it world-readable.
If you opt for the latter, you can do so using the following command:</p>

<blockquote><b>
chmod o+r /u01/app/oracle/product/11.2.0/network/admin/tnsnames.ora
</b></blockquote>

</body>

</html>
