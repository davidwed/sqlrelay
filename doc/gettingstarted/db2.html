<html>

<head>
<title>SQL Relay - Getting Started With IBM DB2</title>
<link rel="stylesheet" href="../css/styles.css">
</head>

<body>

<span class="heading1">Getting Started With IBM DB2</span><br>

<ul>
<li><a href="#installation">Installation</a></li>
<ul>
<li><a href="#pdksh">Install pdksh</a></li>
<li><a href="#ncurses">Install libncurses.so.4</a></li>
<li><a href="#rpm">Install RPM</a></li>
<li><a href="#compat">Install Compatibility Packages</a></li>
<li><a href="#env">PATH Environment Variable</a></li>
<li><a href="#db2">DB2 Installation</a></li>
<li><a href="#odbc">Restore unixODBC if Necessary</a></li>
<li><a href="#ignore">Ignore the Misinformation</a></li>
<li><a href="#docs">Install the Documentation</a></li>
</ul>
<li><a href="#creating">Creating a Database</a></li>
<li><a href="#accessing">Accessing a Database</a></li>
<ul>
<li><a href="#accessinglocal">Accessing a Local Database</a></li>
<li><a href="#accessingremote">Accessing a Remote Database</a></li>
<li><a href="#usingdb2">Using the DB2 Client Program</a></li>
<li><a href="#usingdb2icc">Using the DB2 Information and Control Centers</a></li>
</ul>
<li><a href="#sqlrelay">Accessing a Database With SQL Relay</a></li>
</ul>

<a name="installation"></a>
<span class="heading1">Installation</span><br>

<p>I've sucessfully installed DB2 V7.2 on Linux.  I've never had access to any
other version of DB2 for Linux or any version of DB2 for other platforms.</p>

<a name="pdksh"></a>
<span class="heading2">Install pdksh</span><br>

<p>First and foremost, you need pdksh (Public Domain Korn Shell).  If it did
not come with your distribution, you'll need to download and install it.</p>

<p>For RPM based distributions, look for pdksh at 
<a href="http://rpmfind.net">rpmfind</a> and install it using <i>rpm -i</i>.</p>

<p>For Debian Linux, on newer Debian releases, if you have configured 
<i>apt</i> as illustrated in 
<a href="http://www.debian.org/doc/manuals/apt-howto/index.en.html">the 
APT-HOWTO</a>, run <i>apt-get install rpm</i>.  If your distribution came with
pdksh, you may be prompted to enter a CD.  If not, it will be downloaded from 
the internet.<p>

<p>For Slackware Linux, the pdksh package is available from 
<a href="ftp://ftp.slackware.com">ftp.slackware.com</a>.  You can install it 
using <i>installpkg</i>.</p>

<a name="ncurses"></a>
<span class="heading2">Install libncurses.so.4</span><br>

<p>DB2 requires libncurses.so.4.  Many older distributions come with 
libncurses.so.4.  Many newer distributions come with libncurses.so.5 (or newer).
Some distributions come with both.  If your distribution does NOT have 
libncurses.so.4, create a symbolic link to the newer library as follows.</p>

<p>(These instructions assume that your system has ncurses version 5.2 and that
libncurses.so.5.2 resides in /usr/lib.  If your system has a different version 
of ncurses or if it resides somewhere else (for example, in /lib) then modify 
the instructions accordingly)</p>

<blockquote>
<b>cd /usr/lib<br>
ln -s libncurses.so.5.2 libncurses.so.4</b>
</blockquote>

<a name="rpm"></a>
<span class="heading2">Install RPM</span><br>

<p>On non-RPM based systems, you'll need to install RPM.</p>

<p>For Slackware Linux, the RPM package is available from 
<a href="ftp://ftp.slackware.com">ftp.slackware.com</a>.  You can install it 
using <i>installpkg</i>.  Once RPM is installed, log in as root and run
<i>rpm --initdb</i>.</p>

<p>On newer Debian releases, if you have configured <i>apt</i> as illustrated 
in <a href="http://www.debian.org/doc/manuals/apt-howto/index.en.html">the 
APT-HOWTO</a>, run <i>apt-get install rpm</i>.  If your distribution came with
RPM, you may be prompted to enter a CD.  If not, it will be downloaded from the
internet.  Once RPM is installed, log in as root and run <i>rpm --initdb</i>.

<p>On systems where the <i>rpm</i> command resides in /usr/bin,  you need to 
create a symbolic link between <i>/usr/bin/rpm</i> and <i>/bin/rpm</i> as 
follows.</p>

<blockquote>
<b>ln -s /usr/bin/rpm /bin/rpm</b>
</blockquote>

<a name="compat"></a>
<span class="heading2">Install Compatibility Packages</span><br>

<p>DB2 V7.2 for Linux requires glibc 2.1.  Many newer Linux distributions come with glibc 2.2.  On these distributions it is necessary to install some 
compatibility packages.</p>

<p>Distributions that come with glibc 2.1 include RedHat 6, Debian 2.2, 
Mandrake 7 and Slackware 7.  Distributions that come with glibc 
2.2 include RedHat 7, Mandrake 8 and Slackware 8.</p>

<p>RedHat provides compatability RPM's for RedHat 7 that can actually be used
on any Linux that comes with glibc 2.2.  These RPM's can be downloaded
from <a href="http://rpmfind.net">rpmfind</a>.  You'll need the following RPM's.
</p>

<ul>
<li><b>compat-glibc-6.2-2.1.3.2.i386.rpm</b> for RedHat Linux 7.2</li>
<li><b>compat-egcs-6.2-1.1.2.16.i386.rpm</b> for RedHat Linux 7.2</li>
</ul>

<p>You can install the compatibility RPM's using <i>rpm -i</i>.</p>

<a name="env"></a>
<span class="heading2">PATH Environment Variable</span><br>

<p>On TurboLinux (and possibly other distributions as well), the DB2 installer
tries to run some command line programs that are found in /sbin and /usr/sbin.
Make sure that these directories are in the root user's PATH.</p>

<a name="db2"></a>
<span class="heading2">DB2 Installation</span><br>

<p>IBM DB2 V7.2 Personal Developer's Edition is available from 
<a href="http://www-3.ibm.com/software/data/db2/linux/">the IBM website</a> as
a tarball.  As root, create a temporary directory, move the tarball into it and
extract it using <i>tar xf</i>.  The extraction process creates a directory 
called 018_EEE_LNX_NLV.  Change directories to 018_EEE_LNX_NLV.</p>

<p>On Debian Linux and Slackware Linux, edit the db2_install script and
comment out the line:</p>

<blockquote>
<b>rpm -qa | grep rpm 1>/dev/null 2>/dev/null</b>
</blockquote>

<p>Run the db2_install script.</p>

<p>When prompted to specify a keyword, type DB2.EENT and press return.</p>

<p>When the script completes, run <i>rpm -qa</i> and verify that the following 
RPM's were installed:</p>

<blockquote><b>
db2cnvc71-7.1.0-40<br>
db2gs71-7.1.0-40<br>
db2cucs71-7.1.0-40<br>
db2engn71-7.1.0-40<br>
db2cdrd71-7.1.0-40<br>
db2dj71-7.1.0-40<br>
db2pext71-7.1.0-40<br>
db2cliv71-7.1.0-40<br>
db2rte71-7.1.0-40<br>
db2wcc71-7.1.0-40<br>
db2hten71-7.1.0-40<br>
db2cnvk71-7.1.0-40<br>
db2cj71-7.1.0-40<br>
db2conn71-7.1.0-40<br>
db2smpl71-7.1.0-40<br>
db2xlic71-7.1.0-40<br>
db2cnvj71-7.1.0-40<br>
db2crte71-7.1.0-40<br>
db2cdb71-7.1.0-40<br>
db2das71-7.1.0-40<br>
db2cnvt71-7.1.0-40<br>
db2repl71-7.1.0-40<br>
db2adts71-7.1.0-40<br>
db2jdbc71-7.1.0-40<br>
db2adt71-7.1.0-40<br>
</b></blockquote>

<a name="odbc"></a>
<span class="heading2">Restore unixODBC if Necessary</span><br>

<p>The DB2 installation creates symbolic links from include files in 
/usr/IBMdb2/V7.1/include to /usr/include.  If you had a unixODBC-devel RPM 
installed prior to installing DB2, the include files provided by the 
unixODBC-devel RPM will have been overwritten by these symbolic links.  You 
should probably reinstall the unixODBC-devel RPM.  SQL Relay looks in 
/usr/IBMdb2/V7.1/include for DB2 includes, so not having them in /usr/include 
won't hurt, but not having the proper unixODBC includes in /usr/include will 
cause the ODBC database connection build to fail.</p>

<a name="ignore"></a>
<span class="heading2">Ignore the Misinformation</span><br>

<p>There are many, many instances where this DB2 distribution identifies
itself as version 7.1 instead of 7.2.  For example, the RPM's have a 7.1.0 
version number and the installation process created the directory 
<i>/usr/IBMdb2/V7.1</i>.  These clues might lead one to think that he or she 
has accidentally installed version 7.1 instead of version 7.2.  Ignore the
clues.  Rest assured that you have installed version 7.2 despite the 
misinformation.</p>

<a name="docs"></a>
<span class="heading2">Install the Documentation</span><br>

<p>Once the RPM's are installed, you can install the documentation by running
<i>/usr/IBMdb2/V7.1/doc/db2insthtml en_US</i>.  To view the documentation, 
point your browser at <a href="file://usr/IBMdb2/V7.1/doc/en_US/html">
/usr/IBMdb2/V7.1/doc/en_US/html</a>.</p>

<a name="creating"></a>
<span class="heading1">Creating a Database</span><br>

<p>A DB2 installation consists of an administration server and one or more
instances.  Each instance contains one or more databases.  The administration 
server coordinates the instances.  The administration server is owned by an 
OS-level user.  Each instance is owned by a seperate OS-level user as well.</p>

<p>To create an instance and an administration server, run 
<i>/usr/IBMdb2/V7.1/install/db2setup</i>, a text-based installation program.</p>

<blockquote>
Select <b>[ Create... ]</b><br>
Select <b>Create a DB2 Instance</b><br>
Accept the default user name (db2inst1).<br>
Accept the default UID.<br>
Accept the default group name (db2iadm1).<br>
Accept the default GID.<br>
Pick a password.<br>
Select <b>[ OK ]</b><br>
<br>
A screen for creating the Fenced User (the user that will run user defined
functions and stored procedures) will now appear.<br>
<br>
Accept the default user name (db2fenc1).<br>
Accept the default UID.<br>
Accept the default group name (db2fadm1).<br>
Accept the default GID.<br>
Pick a password.<br>
Select <b>[ OK ]</b> This will return you to <b>Create DB2 Services</b>
screen.<br>
<br>
Select <b>Create the Administration Server</b><br>
Accept the default user name (db2as).<br>
Accept the default UID.<br>
Accept the default group name (db2asgrp).<br>
Accept the default GID.<br>
Pick a password.<br>
Select <b>[ OK ]</b><br>
If you get a <b>DB2SYSTEM will be set to ...</b> dialog, select 
<b>[ OK ]</b>.<br>
<br>
On the <b>Create DB2 Services</b> screen, select <b>[ OK ]</b><br>
Select <b>[ Continue ]</b><br>
Select <b>[ OK ]</b> in the <b>This is your last chance to stop</b> 
dialog.<br>
<br>
Now the instance and administration server will be created.<br>
If all went well, you'll get a <b>Completed Sucessfully.</b> notice.<br>
To exit,<br>
Select <b>[ OK ]</b><br>
Select <b>[ OK ]</b><br>
Select <b>[ Close ]</b><br>
Select <b>[ OK ]</b>
</blockquote>

<p>Should you need to create additional DB2 instances, follow this procedure 
again using a different user name and skipping the steps pertaining
to the Administration Server.  The <i>/usr/IBMdb2/V.1/instance/db2ilist</i> 
command lists all of the DB2 instances on the local computer.</p>

<p>If you need to drop an instance, run 
<i>/usr/IBMdb2/V.1/instance/db2idrop instancename</i>, substituting the name of
the instance you want to drop for instancename.</p>

<p>The <i>/usr/IBMdb2/V.1/instance/dasilist</i> command lists all of the DB2 
administration servers on the local computer.</p>

<p>If you need to drop an administration server, run 
<i>/usr/IBMdb2/V.1/instance/dasidrop servername</i>, substituting the name of
the administration server you want to drop for servername.</p>

<p>Now that you have created an instance, you must create a database within
the instance.  Log in as db2inst1 and run the following command to create a
database named <i>testdb</i>.</p>

<blockquote>
<b>db2 "create database testdb"</b>
</blockquote>

<p>Should you need to drop a database, the following command drops a database
named <i>testdb</i>.</p>

<blockquote>
<b>db2 "drop database testdb"</b>
</blockquote>

<p>By default, a DB2 instance only accept connections from clients running on 
the local machine.  To enable connections from clients running on a remote 
machine over TCP, execute commands like the following.  These commands set 
up the <i>db2inst1</i> instance on port 50000.</p>

<blockquote>
log in as root<br>
view <i>/etc/services</i> and look for a line like:<br>
<blockquote><b>
db2cdb2inst1     50000/tcp  # Connection port for DB2 instance db2inst1<br>
</b></blockquote>
if no such line exists, add it
<br>
log in as db2as<br>
run the following commands:<br>
<blockquote><b>
. /home/db2inst1/sqllib/db2profile<br>
db2 "update database manager configuration using svcename db2inst1"<br>
db2stop<br>
db2start<br>
</b></blockquote>
</blockquote>

<p>Now the <i>db2inst1</i> instance should be accessible to remote clients on 
port 50000.</p>

<p>This should be enough you get you started.  To set up more complex 
configurations, consult the documentation that came with your DB2
distribution.</p>

<span class="heading1">Starting the Database at Boot Time</span><br>

<p>You can use the following script to start/stop the database at 
boot/shutdown time.</p>

<blockquote>
<PRE>
<FONT color=#0000ff>#!/bin/sh</FONT>

<B><FONT color=#a62828>case</FONT></B> &quot;$1&quot; <B><FONT color=#a62828>in</FONT></B>
        start<B><FONT color=#a62828>)</FONT></B>
                /usr/IBMdb2/V7.1/instance/db2istrt
        <B><FONT color=#a62828>;;</FONT></B>
        stop<B><FONT color=#a62828>)</FONT></B>
                /usr/IBMdb2/V7.1/instance/db2ishut
        <B><FONT color=#a62828>;;</FONT></B>
        *<B><FONT color=#a62828>)</FONT></B>
        <B><FONT color=#a62828>echo</FONT></B><FONT color=#ff00ff> $</FONT><B><FONT color=#a62828>&quot;</FONT></B><FONT color=#ff00ff>Usage: </FONT><FONT color=#a620f7>$0</FONT><FONT color=#ff00ff> {start|stop}</FONT><B><FONT color=#a62828>&quot;</FONT></B>
        <B><FONT color=#a62828>exit</FONT></B> <FONT color=#ff00ff>1</FONT>
<B><FONT color=#a62828>esac</FONT></B>

<B><FONT color=#a62828>exit</FONT></B> <FONT color=#ff00ff>0</FONT>


</PRE>
</blockquote>

<p>Install this script and run it with the "start" option to start up the
database.  Running it with the "stop" option shuts the database down.  To
access a database, it must be running.</p>

<a name="accessing"></a>
<span class="heading1">Accessing a Database</span><br>

<br><br>

<a name="accessinglocal"></a>
<span class="heading2">Accessing a Local Database</span><br>

<p>Accessing a local DB2 database using the db2 client tool is simple.  For 
example, to access a database called <i>testdb</i> in the <i>db2inst1</i> 
instance, owned by the <i>db2inst1</i> user on the local machine, log in as 
<i>db2inst1</i> and run the <i>db2</i> command.  Then use the CONNECT
command to connect to a particular database.</p>

<blockquote>
<PRE>
[db2inst1@localhost db2inst1]$ <b>db2</b>
c(c) Copyright IBM Corporation <FONT color=#ff00ff>1993</FONT>,<FONT color=#ff00ff>2001</FONT>
Command Line Processor for DB2 SDK <FONT color=#ff00ff>7.2</FONT>.<FONT color=#ff00ff>0</FONT>

You can issue database manager commands and SQL statements from the command 
prompt. For example:
    db2 =&gt; <FONT color=#6959cf>connect</FONT> <FONT color=#6959cf>to</FONT> sample
    db2 =&gt; bind sample.bnd

For general help, type: ?.
For command help, type: ? command, where command can be
the first few keywords of a database manager command. For example:
 ? CATALOG DATABASE for help on the CATALOG DATABASE command
 ? CATALOG          for help on all of the CATALOG commands.

To exit db2 interactive mode, type QUIT at the command prompt. Outside 
interactive mode, all commands must be prefixed with 'db2'.
To list the current command option settings, type LIST COMMAND OPTIONS.

For more detailed help, refer to the Online Reference Manual.

<b>db2 =&gt; <FONT color=#6959cf>connect</FONT> <FONT color=#6959cf>to</FONT> testdb</b>

   Database Connection Information

 Database server        = DB2/LINUX <FONT color=#ff00ff>7.2</FONT>.<FONT color=#ff00ff>0</FONT>
 SQL authorization ID   = DB2INST1
 Local database alias   = TESTDB

</PRE>
</blockquote>

<a name="accessingremote"></a>
<span class="heading2">Accessing a Remote Database</span><br>

<p>If you want to access a database on a remote machine, the process is more
complex.  DB2 or "DB2 Connect" must be installed on the local and remote 
machines and a DB2 or "DB2 Connect" instance must be created on the local 
machine.  "DB2 Connect" is a lightweight version of the DB2 database system
whose instances cannot support a local database, and can only provide 
connectivity to a remote instance.  In the instance on the local machine, use 
the CATALOG command to create aliases for the remote instance and 
database.  Once these aliases are created, you can use the database alias to
connect to the remote database.</p>

<p>Take the following scenario:</p>

<blockquote>
<table border="1">
<tr><td colspan="2"><b>local machine</b></td></tr>
<tr><td>Hostname</td><td><i>localhost</i></td></tr>
<tr><td>Instance</td><td><i>db2inst1</i></td></tr>
</table>
</blockquote>

<blockquote>
<table border="1">
<tr><td colspan="2"><b>remote machine</b></td></tr>
<tr><td>Hostname</td><td><i>remotehost</i></td></tr>
<tr><td>Instance</td><td><i>testinst<br>
<pre>
	owned by user testinst with password testpassword
	allows remote connections on port 50000
<pre>
</i></td></tr>
<tr><td>Database</td><td><i>testdb</i></td></tr>
</table>
</blockquote>

<p>On <i>localhost</i>, in the <i>db2inst1</i> instance, to create an instance
alias named <i>remoteinst</i> referring to <i>testinst</i> on 
<i>remotehost</i>, and a database alias named <i>remotedb</i> referring to 
<i>testdb</i>, follow this procedure.</p>

<blockquote>
log in as db2inst1 on localhost<br>
create the instance alias using the following commands:<br>
<blockquote><b>
db2 "catalog tcpip node <i>remoteinst</i> remote <i>remotehost</i> server
<i>50000</i>"<br>
db2 "terminate"<br>
</b></blockquote>
create the database alias using the following commands:<br>
<blockquote><b>
db2 "catalog database <i>testdb</i> as <i>remotedb</i> at node 
<i>remoteinst</i>"<br>
db2 "terminate"<br>
</b></blockquote>
</blockquote>

<p>Now that the aliases have been created, you can connect to the database alias
using the CONNECT comamnd.  Note that you must supply the user name and 
password.</p>

<blockquote>
<PRE>
[db2inst1@localhost db2inst1]$ <b>db2</b>
c(c) Copyright IBM Corporation <FONT color=#ff00ff>1993</FONT>,<FONT color=#ff00ff>2001</FONT>
Command Line Processor for DB2 SDK <FONT color=#ff00ff>7.2</FONT>.<FONT color=#ff00ff>0</FONT>

You can issue database manager commands and SQL statements from the command 
prompt. For example:
    db2 =&gt; <FONT color=#6959cf>connect</FONT> <FONT color=#6959cf>to</FONT> sample
    db2 =&gt; bind sample.bnd

For general help, type: ?.
For command help, type: ? command, where command can be
the first few keywords of a database manager command. For example:
 ? CATALOG DATABASE for help on the CATALOG DATABASE command
 ? CATALOG          for help on all of the CATALOG commands.

To exit db2 interactive mode, type QUIT at the command prompt. Outside 
interactive mode, all commands must be prefixed with 'db2'.
To list the current command option settings, type LIST COMMAND OPTIONS.

For more detailed help, refer to the Online Reference Manual.

<b>db2 =&gt; <FONT color=#6959cf>connect</FONT> <FONT color=#6959cf>to</FONT> remotedb <FONT color=#6959cf>user</FONT> testinst <FONT color=#6959cf>using</FONT> testpassword</b>

   Database Connection Information

 Database server        = DB2/LINUX <FONT color=#ff00ff>7.2</FONT>.<FONT color=#ff00ff>0</FONT>
 SQL authorization ID   = TESTINST
 Local database alias   = REMOTEDB

</PRE>
</blockquote>

<p>If you need to get a list of instance aliases, you can use the LIST NODE 
DIRECTORY command as follows.</p>

<blockquote>
<b>db2 "list node directory"</b>
</blockquote>

<p>To list the database aliases, you can use the LIST DATABASE DIRECTORY
command.  Note that this command lists local databases as well as remote
databases.</p>

<blockquote>
<b>db2 "list database directory"</b>
</blockquote>

<p>If you need to drop a database or instance alias, use the UNCATALOG command.
The following commands remove the <i>remotedb</i> database alias and the
<i>remoteinst</i> instance alias.</p>

<blockquote><b>
db2 "uncatalog database <i>remotedb</i>"<br>
db2 "uncatalog node <i>remoteinst</i>"<br>
db2 "terminate"
</b></blockquote>

<a name="usingdb2"></a>
<span class="heading1">Using the DB2 Client Program</span><br>

<p>When run with no arguments, the <i>db2</i> client program provides an 
interactive shell, prompting you to enter commands or an SQL queries.  Commands 
or queries must be entered on a single line and will run when the Enter or 
Return key is pressed.  To exit, type quit.</p>

<p>A sample <i>db2</i> session follows.</p>

<blockquote>
<PRE>
[db2inst1@localhost db2inst1]$ <b>db2</b>
c(c) Copyright IBM Corporation <FONT color=#ff00ff>1993</FONT>,<FONT color=#ff00ff>2001</FONT>
Command Line Processor for DB2 SDK <FONT color=#ff00ff>7.2</FONT>.<FONT color=#ff00ff>0</FONT>

You can issue database manager commands and SQL statements from the command 
prompt. For example:
    db2 =&gt; <FONT color=#6959cf>connect</FONT> <FONT color=#6959cf>to</FONT> sample
    db2 =&gt; bind sample.bnd

For general help, type: ?.
For command help, type: ? command, where command can be
the first few keywords of a database manager command. For example:
 ? CATALOG DATABASE for help on the CATALOG DATABASE command
 ? CATALOG          for help on all of the CATALOG commands.

To exit db2 interactive mode, type QUIT at the command prompt. Outside 
interactive mode, all commands must be prefixed with 'db2'.
To list the current command option settings, type LIST COMMAND OPTIONS.

For more detailed help, refer to the Online Reference Manual.

<b>db2 =&gt;</b> <FONT color=#6959cf>connect</FONT> <FONT color=#6959cf>to</FONT> testdb

   Database Connection Information

 Database server        = DB2/LINUX <FONT color=#ff00ff>7.2</FONT>.<FONT color=#ff00ff>0</FONT>
 SQL authorization ID   = DB2INST1
 Local database alias   = TESTDB

<b>db2 =&gt;</b> <B><FONT color=#a62828>create</FONT></B> <FONT color=#6959cf>table</FONT> testtable (col1 <B><FONT color=#288a51>char</FONT></B>(<FONT color=#ff00ff>40</FONT>), col2 int)
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> list tables

Table/View                      Schema          Type  Creation time
<FONT color=#0000ff>------------------------------- --------------- ----- --------------------------</FONT>
TESTTABLE                       DB2INST1        T     <FONT color=#ff00ff>2002-03-01-01</FONT>.<FONT color=#ff00ff>55</FONT>.<FONT color=#ff00ff>19</FONT>.<FONT color=#ff00ff>671629</FONT>

  <FONT color=#ff00ff>1</FONT> record(s) selected.

<b>db2 =&gt;</b> describe <FONT color=#6959cf>table</FONT> testtable show detail

Column                         Type                                                                                        Column     Partitioning key    Code
name                           schema                          Type name                       Length    Scale    Nulls    number     sequence            page     Default
<FONT color=#0000ff>------------------------------ ------------------------------- ------------------------------- --------- -------- -------- ---------- ------------------- -------- ----------------------------------------</FONT>
COL1                           SYSIBM                          <B><FONT color=#288a51>CHARACTER</FONT></B>                              <FONT color=#ff00ff>40</FONT>        <FONT color=#ff00ff>0</FONT> Yes               <FONT color=#ff00ff>0</FONT>                   <FONT color=#ff00ff>0</FONT>      <FONT color=#ff00ff>819</FONT>                                                                                                                                                                                                                                                               
COL2                           SYSIBM                          <B><FONT color=#288a51>INTEGER</FONT></B>                                 <FONT color=#ff00ff>4</FONT>        <FONT color=#ff00ff>0</FONT> Yes               <FONT color=#ff00ff>1</FONT>                   <FONT color=#ff00ff>0</FONT>        <FONT color=#ff00ff>0</FONT>                                                                                                                                                                                                                                                               

  <FONT color=#ff00ff>2</FONT> record(s) selected.

<b>db2 =&gt;</b> <B><FONT color=#a62828>insert</FONT></B> <FONT color=#6959cf>into</FONT> testtable <FONT color=#6959cf>values</FONT> (<FONT color=#ff00ff>'hello'</FONT>,<FONT color=#ff00ff>50</FONT>)
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> <B><FONT color=#a62828>insert</FONT></B> <FONT color=#6959cf>into</FONT> testtable <FONT color=#6959cf>values</FONT> (<FONT color=#ff00ff>'hi'</FONT>,<FONT color=#ff00ff>60</FONT>)
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> <B><FONT color=#a62828>insert</FONT></B> <FONT color=#6959cf>into</FONT> testtable <FONT color=#6959cf>values</FONT> (<FONT color=#ff00ff>'bye'</FONT>,<FONT color=#ff00ff>70</FONT>)
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> <B><FONT color=#a62828>select</FONT></B> * <FONT color=#6959cf>from</FONT> testtable

COL1                                     COL2       
<FONT color=#0000ff>---------------------------------------- -----------</FONT>
hello                                             <FONT color=#ff00ff>50</FONT>
hi                                                <FONT color=#ff00ff>60</FONT>
bye                                               <FONT color=#ff00ff>70</FONT>

  <FONT color=#ff00ff>3</FONT> record(s) selected.

<b>db2 =&gt;</b> <B><FONT color=#a62828>update</FONT></B> testtable <B><FONT color=#a62828>set</FONT></B> col2=<FONT color=#ff00ff>0</FONT> <FONT color=#6959cf>where</FONT> col1=<FONT color=#ff00ff>'hi'</FONT>
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> <B><FONT color=#a62828>select</FONT></B> * <FONT color=#6959cf>from</FONT> testtable

COL1                                     COL2       
<FONT color=#0000ff>---------------------------------------- -----------</FONT>
hello                                             <FONT color=#ff00ff>50</FONT>
hi                                                 <FONT color=#ff00ff>0</FONT>
bye                                               <FONT color=#ff00ff>70</FONT>

  <FONT color=#ff00ff>3</FONT> record(s) selected.

<b>db2 =&gt;</b> <B><FONT color=#a62828>delete</FONT></B> <FONT color=#6959cf>from</FONT> testtable <FONT color=#6959cf>where</FONT> col2=<FONT color=#ff00ff>50</FONT>
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> <B><FONT color=#a62828>select</FONT></B> * <FONT color=#6959cf>from</FONT> testtable

COL1                                     COL2       
<FONT color=#0000ff>---------------------------------------- -----------</FONT>
hi                                                 <FONT color=#ff00ff>0</FONT>
bye                                               <FONT color=#ff00ff>70</FONT>

  <FONT color=#ff00ff>2</FONT> record(s) selected.

<b>db2 =&gt;</b> <B><FONT color=#a62828>drop</FONT></B> <FONT color=#6959cf>table</FONT> testtable
DB20000I  The SQL command completed successfully.
<b>db2 =&gt;</b> quit
DB20000I  The QUIT command completed successfully.
</PRE>
</blockquote>

<a name="usingdb2icc"></a>
<span class="heading1">Using the DB2 Information and Control Centers</span><br>

<p>IBM DB2 comes with a set of user-friendly, Java-based GUI utilities for 
browsing and configuring database instances.</p>

<p>These utilities require the Java Runtime Enviroment version 1.1.8 
or higher.  For Linux, JRE's are available as RPM's or 
tarballs from <a href="http://www.blackdown.org">Blackdown</a>,
<a href="http://java.sun.com">Sun</a> and
<a href="http://www.ibm.com/java/jdk">IBM</a>.  Of course, IBM recommends that
you use their JRE.</p>

<p>To run the DB2 Information Center or Control Center, you have to log in as
a database instance or adminstrative server owner such as <i>db2as</i> or
<i>db2inst1</i>.</p>

<p>Make sure that the <i>jre</i> command is in the PATH environment variable 
for that user.  If it isn't, modify that user's .bashrc to include it.</p>

<p>If you are running a 2.4 (or higher) kernel, add the following line to the
user's .bashrc as well.</p>

<blockquote>
<b>export LD_ASSUME_KERNEL=2.2.5</b>
</blockquote>

<p>To run the Information Center or Control Center, you first have to run the
DB2 Java Server and give it a port number as follows.</p>

<blockquote>
<b>db2jstrt 6720</b>
</blockquote>

<p>Once it's running, you can run the DB2 Information Center or Control Center,
also supplying the port.</p>

<blockquote>
<b>db2ic 6720</b><br><br>
or<br><br>
<b>db2cc 6720</b>
</blockquote>

<p>Both utilities will ask for the username and password of an instance owner.  
Once you supply these credentials, you can browse and/or configure the instance 
owned by that user.</p>

<a name="sqlrelay"></a>
<span class="heading1">Accessing a Database With SQL Relay</span><br>

<p>Accessing DB2 from SQL Relay requires an instance entry in your 
<i>sqlrelay.conf</i> file for the database that you want 
to access.  Here is an example <i>sqlrelay.conf</i> which defines an SQL Relay 
instance called db2test.  This SQL Relay instance connects to the 
<i>testdb</i> database in the <i>db2inst1</i> DB2 instance.</p>

<p><b>Important Note:</b> For DB2 connections, <i>sqlr-start</i> must be run as
the user that owns the DB2 instance that it is running against.  In this 
example, the <i>db2inst1</i> user owns the <i>db2inst1</i> instance where the 
<i>testdb</i> database resides, so <i>sqlr-start</i> must be run as 
<i>db2inst1</i>.</p>

<PRE>
<FONT color=#0000ff>&lt;?</FONT><B><FONT color=#288a51>xml version=</FONT></B><FONT color=#ff00ff>&quot;1.0&quot;</FONT><FONT color=#0000ff>?&gt;</FONT>
<FONT color=#008a8e>&lt;!</FONT><B><FONT color=#a62828>DOCTYPE</FONT></B> instances <B><FONT color=#a62828>SYSTEM</FONT></B> <FONT color=#ff00ff>&quot;sqlrelay.dtd&quot;</FONT><FONT color=#008a8e>&gt;</FONT>
<FONT color=#008a8e>&lt;instances&gt;</FONT>

        <FONT color=#008a8e>&lt;instance id=</FONT><FONT color=#ff00ff>&quot;db2test&quot;</FONT><FONT color=#008a8e> port=</FONT><FONT color=#ff00ff>&quot;9000&quot;</FONT><FONT color=#008a8e> socket=</FONT><FONT color=#ff00ff>&quot;/tmp/db2test.socket&quot;</FONT><FONT color=#008a8e> dbase=</FONT><FONT color=#ff00ff>&quot;db2&quot;</FONT><FONT color=#008a8e> connections=</FONT><FONT color=#ff00ff>&quot;3&quot;</FONT><FONT color=#008a8e> maxconnections=</FONT><FONT color=#ff00ff>&quot;5&quot;</FONT><FONT color=#008a8e> maxqueuelength=</FONT><FONT color=#ff00ff>&quot;0&quot;</FONT><FONT color=#008a8e> growby=</FONT><FONT color=#ff00ff>&quot;1&quot;</FONT><FONT color=#008a8e> ttl=</FONT><FONT color=#ff00ff>&quot;60&quot;</FONT><FONT color=#008a8e> endofsession=</FONT><FONT color=#ff00ff>&quot;commit&quot;</FONT><FONT color=#008a8e> sessiontimeout=</FONT><FONT color=#ff00ff>&quot;600&quot;</FONT><FONT color=#008a8e> runasuser=</FONT><FONT color=#ff00ff>&quot;db2inst1&quot;</FONT><FONT color=#008a8e> runasgroup=</FONT><FONT color=#ff00ff>&quot;db2inst1&quot;</FONT><FONT color=#008a8e> cursors=</FONT><FONT color=#ff00ff>&quot;5&quot;</FONT><FONT color=#008a8e> authtier=</FONT><FONT color=#ff00ff>&quot;listener&quot;</FONT><FONT color=#008a8e> handoff=</FONT><FONT color=#ff00ff>&quot;pass&quot;</FONT><FONT color=#008a8e>&gt;</FONT>
                <FONT color=#008a8e>&lt;users&gt;</FONT>
                        <FONT color=#008a8e>&lt;user user=</FONT><FONT color=#ff00ff>&quot;testuser&quot;</FONT><FONT color=#008a8e> password=</FONT><FONT color=#ff00ff>&quot;testpassword&quot;</FONT><FONT color=#008a8e>/&gt;</FONT>
                <FONT color=#008a8e>&lt;/users&gt;</FONT>
                <FONT color=#008a8e>&lt;connections&gt;</FONT>
                        <FONT color=#008a8e>&lt;connection connectionid=</FONT><FONT color=#ff00ff>&quot;db2test&quot;</FONT><FONT color=#008a8e> string=</FONT><FONT color=#ff00ff>&quot;db=db2inst1&quot;</FONT><FONT color=#008a8e> metric=</FONT><FONT color=#ff00ff>&quot;1&quot;</FONT><FONT color=#008a8e>/&gt;</FONT>
                <FONT color=#008a8e>&lt;/connections&gt;</FONT>
        <FONT color=#008a8e>&lt;/instance&gt;</FONT>

<FONT color=#008a8e>&lt;/instances&gt;</FONT>
</PRE>

<p>Now you can start up this instance with the following command.</p>

<blockquote>
<b>su - db2inst1 -c "sqlr-start -id db2test"</b>
</blockquote>

<p>To connect to the instance and run queries, use the following command.</p>

<blockquote>
<b>sqlrsh -id db2test</b>
</blockquote>

<p>The following command shuts down the SQL Relay instance.</p>

<blockquote>
<b>su - db2inst1 -c "sqlr-stop db2test"</b>
</blockquote>

</body>

</html>
