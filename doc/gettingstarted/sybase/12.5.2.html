<html>

<head>
<title>SQL Relay - Getting Started With Sybase - Initializing an 12.5.2 Server</title>
<link rel="stylesheet" href="../../css/styles.css">
</head>

<body>

<span class="heading1">Installing and Initializing an 12.5.2 Server</span><br>

<p>To install and initialize Sybase Adaptive Server Enterprise, follow these
instructions.</p>

<span class="heading2">Install Compatibility Packages</span><br>

<p>Sybase ASE version 12.5.2 requires libstdc++-libc6.2-2.so.3.  Most modern
Linux distributions have a newer version of libstdc++.  You can install
compat-libstdc++-296-2.96-132.fc5.i386.rpm for Fedora Core 4 (available at
<a href="http://rpmfind.net">rpmfind</a>) on most RPM-based linux distributions
to provide this library.</p>

<span class="heading2">Install Java</span><br>

<p>Sybase ASE version 12.5.2 comes with a Java-based installer.  The version
of Java that it comes with won't work on many platforms and the installer will
search for other versions of Java before using the version that it comes with.
Get a new version of Java from <a href="http://java.sun.com">java.sun.com</a>
and install it.</p>

<p>Be sure to add the path of the java program to your PATH environment
variable.</p>

<span class="heading2">Set Kernel Parameters</span><br>

<p>The database server requires more shared memory than the typical linux
system is configured to allow by default.  Run the following command (as root)
prior to installation.</p>

<blockquote><b>
echo 268435456 > /proc/sys/kernel/shmmax
</b></blockquote>

<span class="heading2">Extract The Distribution</span><br>

<p>The distribution comes as a tarball.  Extract it as follows:</p>

<blockquote><b>
mkdir sybase<br>
mv ase1252_de_linux.tgz sybase<br>
cd sybase<br>
tar xfz ase1252_de_linux.tgz<br>
</b></blockquote>

<span class="heading2">Install The Server</span><br>

<p>Now, as root, run the following command:</p>

<blockquote><b>./setup</b></blockquote>

<p>A java-based installer should run.</p>

<p>On the screen titled: <b>Welcome to the InstallSheild Wizard for Sybase
Adaptive Server Enterprise Suite</b><br>
Click Next.</p>

<p> On the screen titled: <b>Please select the geographic location where you
are installing this software</b><br>
Select your geographic location from the <b>Please Select</b> pulldown.<br>
Read the license and click the <b>I agree to the terms of the Sybase license,
for the install location specified.</b> check box.<br>
Click Next.</p>

<p>When prompted for a <b>Destination Directory</b>, accept the default
"/opt/sybase"<br>
Click Next.</p>

<p>If prompted with <b>The directory does not exist.
Do you want to create it?</b><br>
Click Yes.</p>

<p>On the screen titled: <b>Choose the setup type that best suits your
needs</b><br>
Accept the default <b>Typical</b> radio button.<br>
Click Next.</p>

<p>An installation summary page will appear, indicating what will be installed,
what directory, and the total size of the installation.<br>
Click Next.</p>

<p>A screen titled <b>Installing Sybase Adaptive Server Enterprise Suite.
Please wait...</b> will appear with a progress bar indicating how much of
the installation has been completed.</p>

<p>On the screen titled <b>The InstallShield Wizard has successfully installed
Sybase Adaptive Server Enterprise Suite</b><br>
Click Next.</p>

<p>On the screen titled <b>Please deselect any servers that you do not want to
configure now:</b><br>
Accept the default checkboxes (all of them should be checked)<br>
Click Next.</p>

<p>On the screen titled <b>Please select the servers that you want to custom
configure</b><br>
Accept the default checkboxes (none of them should be checked)<br>
Click Next.</p>

<p>A summary page will appear with values for that each server will be
configured with.<br>
Click Next.</p>

<p>A screen will appear titled <b>Configure New Adaptive Server</b> with
progress messages indicating what step is currently being executed.  This
stage will fail at "Starting server" if shmmax wasn't configured properly.</p>

<p>A screen will appear titled <b>Configure New Backup Server</b> with
progress messages indicating what step is currently being executed.</p>

<p>A screen will appear titled <b>Configure New Monitor Server</b> with
progress messages indicating what step is currently being executed.</p>

<p>A screen will appear titled <b>Configure New XP Server</b> with
progress messages indicating what step is currently being executed.</p>

<p>A screen will appear titled <b>The installation was successful</b><br>
Click Finish.</p>


<span class="heading2">Starting the Database at Boot Time</span><br>

<p>The RPM distribution of Sybase ASE installs a script in /etc/rc.d/init.d 
which starts the database at boot time.  For non-RPM distributions, you may 
need to install a script like the following.  Replace <i>/opt/sybase-12.5</i> 
with whatever directory Sybase ASE is installed in.</p>

<blockquote>
<PRE>
<FONT color=#0000ff>#!/bin/sh</FONT>

<B><FONT color=#a62828>export </FONT></B><FONT color=#008a8e>SYBASE</FONT><B><FONT color=#a62828>=</FONT></B>/opt/sybase</FONT>

<B><FONT color=#a62828>export </FONT></B><FONT color=#008a8e>PATH</FONT><B><FONT color=#a62828>=</FONT></B><FONT color=#a620f7>$PATH</FONT>:<FONT color=#a620f7>$SYBASE</FONT>/ASE-12_5/bin:<FONT color=#a620f7>$SYBASE</FONT>/ASE-12_5/install

<B><FONT color=#a62828>export </FONT></B><FONT color=#008a8e>LANG</FONT><B><FONT color=#a62828>=</FONT></B>en_US</FONT>

<font color="#a52829"><b>echo</b></font><font color="#ff00ff"> 268435456 </font><font color="#a52829"><b>&gt;</b></font> /proc/sys/kernel/shmmax

<B><FONT color=#a62828>case</FONT></B> &quot;$1&quot; <B><FONT color=#a62828>in</FONT></B>
        start<B><FONT color=#a62828>)</FONT></B>
                <B><FONT color=#a62828>for</FONT></B> i <B><FONT color=#a62828>in</FONT></B> <FONT color=#6959cf>`ls </FONT><FONT color=#a620f7>$SYBASE</FONT><FONT color=#6959cf>/ASE-12_5/install/RUN_*`</FONT>
                <B><FONT color=#a62828>do</FONT></B>
                        su <B><FONT color=#a62828>-c</FONT></B> <B><FONT color=#a62828>&quot;</FONT></B><FONT color=#ff00ff>startserver -f </FONT><FONT color=#a620f7>$i</FONT><B><FONT color=#a62828>&quot;</FONT></B> <B><FONT color=#a62828>&gt;</FONT></B> /dev/null <B><FONT color=#a62828>2&gt;&amp;1</FONT></B><B><FONT color=#a62828>;</FONT></B>
                <B><FONT color=#a62828>done</FONT></B>
                <B><FONT color=#a62828>;;</FONT></B>
        stop<B><FONT color=#a62828>)</FONT></B>
                <B><FONT color=#a62828>kill</FONT></B> <FONT color=#6959cf>`ps </FONT><FONT color=#6959cf>-efa</FONT><FONT color=#6959cf> </FONT><B><FONT color=#a62828>|</FONT></B><FONT color=#6959cf> grep sybase </FONT><B><FONT color=#a62828>|</FONT></B><FONT color=#6959cf> grep </FONT><FONT color=#6959cf>-v</FONT><FONT color=#6959cf> grep </FONT><B><FONT color=#a62828>|</FONT></B><FONT color=#6959cf> awk </FONT><B><FONT color=#a62828>'</FONT></B><FONT color=#ff00ff>{print $2}</FONT><B><FONT color=#a62828>'</FONT></B><FONT color=#6959cf>`</FONT>
                <B><FONT color=#a62828>;;</FONT></B>
        *<B><FONT color=#a62828>)</FONT></B>
                <B><FONT color=#a62828>echo</FONT></B><FONT color=#ff00ff> $</FONT><B><FONT color=#a62828>&quot;</FONT></B><FONT color=#ff00ff>Usage: </FONT><FONT color=#a620f7>$0</FONT><FONT color=#ff00ff> {start|stop}</FONT><B><FONT color=#a62828>&quot;</FONT></B>
                <B><FONT color=#a62828>exit</FONT></B> <FONT color=#ff00ff>1</FONT>
<B><FONT color=#a62828>esac</FONT></B>

<B><FONT color=#a62828>exit</FONT></B> <FONT color=#ff00ff>0</FONT>
</PRE>
</blockquote>

<p>Install this script and run it with the "start" option to start up the
database.  Running it with the "stop" option shuts the database down.  To
access a database, it must be running.</p>

</body>

</html>
