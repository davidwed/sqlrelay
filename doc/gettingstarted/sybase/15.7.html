<html>

<head>
<title>SQL Relay - Getting Started With Sybase - Initializing an 15.7 Server</title>
<link rel="stylesheet" href="../../css/styles.css">
</head>

<body>

<span class="heading1">Installing and Initializing an 15.7 Server</span><br>

<p>To install and initialize Sybase Adaptive Server Enterprise, follow these
instructions.</p>

<span class="heading2">Install Required Packages</span><br>

<p>Sybase ASE version 15.7 requires libaio, which may or may not be installed
by default.</p>

<p>This packages is available from <a href="http://rpmfind.net">rpmfind</a>
or using yum.</p>

<span class="heading2">Set Kernel Parameters</span><br>

<p>The database server requires more shared memory than the typical linux
system is configured to allow by default.  Run the following command (as root)
prior to installation.</p>

<blockquote><b>
echo 268435456 > /proc/sys/kernel/shmmax
</b></blockquote>

<span class="heading2">Extract The Distribution</span><br>

<p>The distribution comes as a tarball.  Extract it as follows:</p>

<blockquote><b>
mkdir sybase<br>
mv ase157_linuxx86-64.tgz sybase<br>
cd sybase<br>
tar xfz ase157_linuxx86-64.tgz<br>
</b></blockquote>

<span class="heading2">Install The Software Distribution</span><br>

<p>Now, go into the directory the sybase software distribution was extracted
into and, as root, run the following command:</p>

<blockquote><b>./setup.bin</b></blockquote>

<p>A java-based installer should run.</p>

<p>On the <b>Introduction</b> screen, click Next.</p>

<p>When prompted <b>Where Would You Like to Install?</b>, accept the default
(/opt/sybase) and click Next.</p>

<p>If prompted <b>The directory /opt/sybase does not exist. Do you want to
create it?</b>, click Yes.</p>

<p>On the <b>Choose Install Set</b> screen, accept the default (Typical) and
click Next.</p>

<p>On the <b>Software License Type Selection</b> screen, select <b>Install
Free Developer Edition of Sybae Adaptive Server Enterprise Suite</b> and
click Next.</p>

<P>When prompted for the <b>End-user license agreement</b> select All regions
from the <b>Please Select</b> pulldown.<br>
Read the license and click the <b>I agree to the terms of the Sybase license,
for the install location specified.</b> check box.<br>
click Next.</p>

<p>An installation summary page will appear, indicating what will be installed,
what directory, and the total size of the installation.<br>
Click Install.</p>

<p>A screen titled <b>Installing Sybase Adaptive Server Enterprise Suite.
Please wait...</b> will appear with a progress bar indicating how much of
the installation has been completed.  When that is finished, click Next.</p>

<p>On the screen titled <b>Please deselect any servers that you do not want to
configure now</b><br>
Leave all checkboxes checked and click Next.</p>

<p>On the screen titled <b>Configure New Adaptive Server</b> enter a
System Administartor password and confirm it, then accept all other defaults
and click Next.</p>

<p>If you get a warning about page size, just click <b>OK</b>.</p>

<p>Another screen titled <b>Configure New Adaptive Server</b> should appear.
Accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure New Backup Server</b>
accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure New XP Server</b>
accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure New Job Scheduler</b>
accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure Self Management</b>
accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure Self Discovery Service Adaptor</b>
accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure RMI Port</b>
accept all defaults and click Next.</p>

<p>On the screen titled <b>Configure Administration Passwords</b> enter and
confirm an SCC agent password and click Next.</p>

<p>On the screen titled <b>New Server Configuratin Summary</b> click Next.</p>

<p>Screens will appear with progress messages indicating what step is currently
being executed.  One of these stages will fail at "Starting server" if shmmax
wasn't configured properly.</p>

<p>A screen will appear titled <b>Installation Completed</b><br>
click Done.</p>

<span class="heading2">Starting the Database at Boot Time</span><br>

<p>To start the database at boot time, you need to install a script like the
following.  Replace <i>/opt/sybase</i> with whatever directory Sybase ASE is
installed in.</p>

<blockquote>
<PRE>
<FONT color=#0000ff>#!/bin/sh</FONT>

<B><FONT color=#a62828>export </FONT></B><FONT color=#008a8e>SYBASE</FONT><B><FONT color=#a62828>=</FONT></B>/opt/sybase</FONT>

<B><FONT color=#a62828>export </FONT></B><FONT color=#008a8e>PATH</FONT><B><FONT color=#a62828>=</FONT></B><FONT color=#a620f7>$PATH</FONT>:<FONT color=#a620f7>$SYBASE</FONT>/ASE-15_0/bin:<FONT color=#a620f7>$SYBASE</FONT>/ASE-15_0/install
<B><FONT color=#a62828>export </FONT></B><FONT color=#008a8e>LD_LIBRARY_PATH</FONT><B><FONT color=#a62828>=</FONT></B><FONT color=#a620f7>$LD_LIBRARY_PATH</FONT>:<FONT color=#a620f7>$SYBASE</FONT>/ASE-15_0/lib:<FONT color=#a620f7>$SYBASE</FONT>/OCS-15_0/lib3p

<font color="#a52829"><b>echo</b></font><font color="#ff00ff"> 268435456 </font><font color="#a52829"><b>&gt;</b></font> /proc/sys/kernel/shmmax

<B><FONT color=#a62828>case</FONT></B> &quot;$1&quot; <B><FONT color=#a62828>in</FONT></B>
        start<B><FONT color=#a62828>)</FONT></B>
                <B><FONT color=#a62828>for</FONT></B> i <B><FONT color=#a62828>in</FONT></B> <FONT color=#6959cf>`ls </FONT><FONT color=#a620f7>$SYBASE</FONT><FONT color=#6959cf>/ASE-15_0/install/RUN_*`</FONT>
                <B><FONT color=#a62828>do</FONT></B>
                        su <B><FONT color=#a62828>-c</FONT></B> <B><FONT color=#a62828>&quot;</FONT></B><FONT color=#ff00ff>startserver -f </FONT><FONT color=#a620f7>$i</FONT><B><FONT color=#a62828>&quot;</FONT></B> <B><FONT color=#a62828>&gt;</FONT></B> /dev/null <B><FONT color=#a62828>2&gt;&amp;1</FONT></B><B><FONT color=#a62828>;</FONT></B>
                <B><FONT color=#a62828>done</FONT></B>
                <B><FONT color=#a62828>;;</FONT></B>
        stop<B><FONT color=#a62828>)</FONT></B>
                <B><FONT color=#a62828>kill</FONT></B> <FONT color=#6959cf>`ps </FONT><FONT color=#6959cf>-efa</FONT><FONT color=#6959cf> </FONT><B><FONT color=#a62828>|</FONT></B><FONT color=#6959cf> grep sybase </FONT><B><FONT color=#a62828>|</FONT></B><FONT color=#6959cf> grep </FONT><FONT color=#6959cf>-v</FONT><FONT color=#6959cf> grep </FONT><B><FONT color=#a62828>|</FONT></B><FONT color=#6959cf> awk </FONT><B><FONT color=#a62828>'</FONT></B><FONT color=#ff00ff>{print $2}</FONT><B><FONT color=#a62828>'</FONT></B><FONT color=#6959cf>`</FONT>
                <B><FONT color=#a62828>;;</FONT></B>
        *<B><FONT color=#a62828>)</FONT></B>
                <B><FONT color=#a62828>echo</FONT></B><FONT color=#ff00ff> $</FONT><B><FONT color=#a62828>&quot;</FONT></B><FONT color=#ff00ff>Usage: </FONT><FONT color=#a620f7>$0</FONT><FONT color=#ff00ff> {start|stop}</FONT><B><FONT color=#a62828>&quot;</FONT></B>
                <B><FONT color=#a62828>exit</FONT></B> <FONT color=#ff00ff>1</FONT>
<B><FONT color=#a62828>esac</FONT></B>

<B><FONT color=#a62828>exit</FONT></B> <FONT color=#ff00ff>0</FONT>
</PRE>
</blockquote>

<p>Install this script and run it with the "start" option to start up the
database.  Running it with the "stop" option shuts the database down.  To
access a database, it must be running.</p>

</body>

</html>
