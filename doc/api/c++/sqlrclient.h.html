<html>
<head>
<title>~/src/firstworks/sqlrelay-0.34/src/api/c++/include/sqlrelay/sqlrclient.h.html</title>
<meta name="Generator" content="Vim/6.2">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body bgcolor="#ffffff" text="#000000">
<pre>
<font color="#0000ff">// Copyright (c) 1999-2001  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information.</font>

<font color="#a020f0">#ifndef SQLRCLIENT_H</font>
<font color="#a020f0">#define SQLRCLIENT_H</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;sqlrelay/private/sqlrincludes.h&gt;</font>

<font color="#2e8b57"><b>class</b></font> sqlrconnection : <font color="#a52a2a"><b>public</b></font> inetclientsocket, <font color="#a52a2a"><b>public</b></font> unixclientsocket {
        <font color="#a52a2a"><b>public</b></font>:
                        sqlrconnection(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *server, <font color="#2e8b57"><b>int</b></font> port,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *socket,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *user, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *password,
                                        <font color="#2e8b57"><b>int</b></font> retrytime, <font color="#2e8b57"><b>int</b></font> tries);
                                <font color="#0000ff">// Initiates a connection to &quot;server&quot; on &quot;port&quot;</font>
                                <font color="#0000ff">// or to the unix &quot;socket&quot; on the local machine</font>
                                <font color="#0000ff">// and authenticates with &quot;user&quot; and &quot;password&quot;.</font>
                                <font color="#0000ff">// Failed connections will be retried for </font>
                                <font color="#0000ff">// &quot;tries&quot; times on interval &quot;retrytime&quot;</font>
                                <font color="#0000ff">// or on for a default number of times on</font>
                                <font color="#0000ff">// a default interval if left unspecified.</font>

                                <font color="#0000ff">// If the &quot;socket&quot; parameter is neither </font>
                                <font color="#0000ff">// NULL nor &quot;&quot; then an attempt will be made to </font>
                                <font color="#0000ff">// connect through it before attempting to </font>
                                <font color="#0000ff">// connect to &quot;server&quot; on &quot;port&quot;.  If it is </font>
                                <font color="#0000ff">// NULL or &quot;&quot; then no attempt will be made to </font>
                                <font color="#0000ff">// connect through the socket.</font>
                        ~sqlrconnection();
                                <font color="#0000ff">// Disconnects and ends the session if</font>
                                <font color="#0000ff">// it hasn't been ended already.</font>

                <font color="#2e8b57"><b>int</b></font>     endSession();
                                <font color="#0000ff">// Ends the session.</font>
                <font color="#2e8b57"><b>int</b></font>     suspendSession();
                                <font color="#0000ff">// Disconnects this connection from the current</font>
                                <font color="#0000ff">// session but leaves the session open so </font>
                                <font color="#0000ff">// that another connection can connect to it </font>
                                <font color="#0000ff">// using resumeSession().</font>
                <font color="#2e8b57"><b>int</b></font>     getConnectionPort();
                                <font color="#0000ff">// Returns the inet port that the connection is </font>
                                <font color="#0000ff">// communicating over. This parameter may be </font>
                                <font color="#0000ff">// passed to another connection for use in</font>
                                <font color="#0000ff">// the resumeSession() method.</font>
                <font color="#2e8b57"><b>char</b></font>    *getConnectionSocket();
                                <font color="#0000ff">// Returns the unix socket that the connection </font>
                                <font color="#0000ff">// is communicating over. This parameter may be </font>
                                <font color="#0000ff">// passed to another connection for use in</font>
                                <font color="#0000ff">// the resumeSession() method.</font>
                <font color="#2e8b57"><b>int</b></font>     resumeSession(<font color="#2e8b57"><b>int</b></font> port, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *socket);
                                <font color="#0000ff">// Resumes a session previously left open </font>
                                <font color="#0000ff">// using suspendSession().</font>
                                <font color="#0000ff">// Returns 1 on success and 0 on failure.</font>


                <font color="#2e8b57"><b>int</b></font>     ping();
                                <font color="#0000ff">// Returns 1 if the database is up and 0</font>
                                <font color="#0000ff">// if it's down.</font>
                <font color="#2e8b57"><b>char</b></font>    *identify();
                                <font color="#0000ff">// Returns the type of database: </font>
                                <font color="#0000ff">//   oracle7, oracle8, postgresql, mysql, etc.</font>


                <font color="#2e8b57"><b>int</b></font>     autoCommitOn();
                                <font color="#0000ff">// Instructs the database to perform a commit</font>
                                <font color="#0000ff">// after every successful query.</font>
                <font color="#2e8b57"><b>int</b></font>     autoCommitOff();
                                <font color="#0000ff">// Instructs the database to wait for the </font>
                                <font color="#0000ff">// client to tell it when to commit.</font>
                <font color="#2e8b57"><b>int</b></font>     commit();
                                <font color="#0000ff">// Issues a commit.  Returns 1 if the commit</font>
                                <font color="#0000ff">// succeeded, 0 if it failed and -1 if an</font>
                                <font color="#0000ff">// error occurred.</font>
                <font color="#2e8b57"><b>int</b></font>     rollback();
                                <font color="#0000ff">// Issues a rollback.  Returns 1 if the rollback</font>
                                <font color="#0000ff">// succeeded, 0 if it failed and -1 if an</font>
                                <font color="#0000ff">// error occurred.</font>


                <font color="#2e8b57"><b>void</b></font>    debugOn();
                                <font color="#0000ff">// Causes verbose debugging information to be </font>
                                <font color="#0000ff">// sent to standard output.  Another way to do</font>
                                <font color="#0000ff">// this is to start a query with &quot;-- debug\n&quot;.</font>
                <font color="#2e8b57"><b>void</b></font>    debugOff();
                                <font color="#0000ff">// Turns debugging off.</font>
                <font color="#2e8b57"><b>int</b></font>     getDebug();
                                <font color="#0000ff">// Returns 0 if debugging is off and 1 if </font>
                                <font color="#0000ff">// debugging is on.</font>


                <font color="#2e8b57"><b>void</b></font>    debugPrintFunction(<font color="#2e8b57"><b>int</b></font> (*printfunction)
                                                        (<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *,...));
                                <font color="#0000ff">// Allows you to replace the function used</font>
                                <font color="#0000ff">// to print debug messages with your own</font>
                                <font color="#0000ff">// function.  The function is expected to take</font>
                                <font color="#0000ff">// arguments like printf().</font>

<font color="#a020f0">        #include </font><font color="#ff00ff">&lt;sqlrelay/private/sqlrconnection.h&gt;</font>
};


<font color="#2e8b57"><b>class</b></font> sqlrcursor {
        <font color="#a52a2a"><b>public</b></font>:
                        sqlrcursor(sqlrconnection *sqlrc);
                        ~sqlrcursor();

                <font color="#2e8b57"><b>void</b></font>    setResultSetBufferSize(<font color="#2e8b57"><b>int</b></font> rows);
                                <font color="#0000ff">// Sets the number of rows of the result set</font>
                                <font color="#0000ff">// to buffer at a time.  0 (the default)</font>
                                <font color="#0000ff">// means buffer the entire result set.</font>
                <font color="#2e8b57"><b>int</b></font>     getResultSetBufferSize();
                                <font color="#0000ff">// Returns the number of result set rows that </font>
                                <font color="#0000ff">// will be buffered at a time or 0 for the</font>
                                <font color="#0000ff">// entire result set.</font>


                <font color="#2e8b57"><b>void</b></font>    dontGetColumnInfo();
                                <font color="#0000ff">// Tells the server not to send any column</font>
                                <font color="#0000ff">// info (names, types, sizes).  If you don't</font>
                                <font color="#0000ff">// need that info, you should call this</font>
                                <font color="#0000ff">// method to improve performance.</font>
                <font color="#2e8b57"><b>void</b></font>    getColumnInfo();
                                <font color="#0000ff">// Tells the server to send column info.</font>

                <font color="#2e8b57"><b>void</b></font>    mixedCaseColumnNames();
                                <font color="#0000ff">// Columns names are returned in the same</font>
                                <font color="#0000ff">// case as they are defined in the database.</font>
                                <font color="#0000ff">// This is the default.</font>
                <font color="#2e8b57"><b>void</b></font>    upperCaseColumnNames();
                                <font color="#0000ff">// Columns names are converted to upper case.</font>
                <font color="#2e8b57"><b>void</b></font>    lowerCaseColumnNames();
                                <font color="#0000ff">// Columns names are converted to lower case.</font>


                <font color="#2e8b57"><b>void</b></font>    cacheToFile(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *filename);
                                <font color="#0000ff">// Sets query caching on.  Future queries</font>
                                <font color="#0000ff">// will be cached to the file &quot;filename&quot;.</font>
                                <font color="#0000ff">//</font>
                                <font color="#0000ff">// A default time-to-live of 10 minutes is</font>
                                <font color="#0000ff">// also set.</font>
                                <font color="#0000ff">//</font>
                                <font color="#0000ff">// Note that once cacheToFile() is called,</font>
                                <font color="#0000ff">// the result sets of all future queries will</font>
                                <font color="#0000ff">// be cached to that file until another call </font>
                                <font color="#0000ff">// to cacheToFile() changes which file to</font>
                                <font color="#0000ff">// cache to or a call to cacheOff() turns off</font>
                                <font color="#0000ff">// caching.</font>
                <font color="#2e8b57"><b>void</b></font>    setCacheTtl(<font color="#2e8b57"><b>int</b></font> ttl);
                                <font color="#0000ff">// Sets the time-to-live for cached result</font>
                                <font color="#0000ff">// sets. The sqlr-cachemanger will remove each </font>
                                <font color="#0000ff">// cached result set &quot;ttl&quot; seconds after it's </font>
                                <font color="#0000ff">// created, provided it's scanning the directory</font>
                                <font color="#0000ff">// containing the cache files.</font>
                <font color="#2e8b57"><b>char</b></font>    *getCacheFileName();
                                <font color="#0000ff">// Returns the name of the file containing the</font>
                                <font color="#0000ff">// cached result set.</font>
                <font color="#2e8b57"><b>void</b></font>    cacheOff();
                                <font color="#0000ff">// Sets query caching off.</font>


                <font color="#0000ff">// If you don't need to use substitution or bind variables</font>
                <font color="#0000ff">// in your queries, use these two methods.</font>
                <font color="#2e8b57"><b>int</b></font>     sendQuery(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *query);
                                <font color="#0000ff">// Sends &quot;query&quot; and gets a result set.</font>
                <font color="#2e8b57"><b>int</b></font>     sendQuery(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *query, <font color="#2e8b57"><b>int</b></font> length);
                                <font color="#0000ff">// Sends &quot;query&quot; with length &quot;length&quot; and gets</font>
                                <font color="#0000ff">// a result set. This method must be used if</font>
                                <font color="#0000ff">// the query contains binary data.</font>
                <font color="#2e8b57"><b>int</b></font>     sendFileQuery(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *path, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *filename);
                                <font color="#0000ff">// Sends the query in file &quot;path&quot;/&quot;filename&quot; </font>
                                <font color="#0000ff">// and gets a result set.</font>


                <font color="#0000ff">// If you need to use substitution or bind variables, in your</font>
                <font color="#0000ff">// queries use the following methods.  See the API </font>
                <font color="#0000ff">// documentation for more information about substitution and </font>
                <font color="#0000ff">// bind variables.</font>
                <font color="#2e8b57"><b>void</b></font>    prepareQuery(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *query);
                                <font color="#0000ff">// Prepare to execute &quot;query&quot;.</font>
                <font color="#2e8b57"><b>void</b></font>    prepareQuery(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *query, <font color="#2e8b57"><b>int</b></font> length);
                                <font color="#0000ff">// Prepare to execute &quot;query&quot; with length </font>
                                <font color="#0000ff">// &quot;length&quot;.  This method must be used if the</font>
                                <font color="#0000ff">// query contains binary data.</font>
                <font color="#2e8b57"><b>int</b></font>     prepareFileQuery(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *path,
                                                <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *filename);
                                <font color="#0000ff">// Prepare to execute the contents </font>
                                <font color="#0000ff">// of &quot;path&quot;/&quot;filename&quot;.  Returns 0 if the</font>
                                <font color="#0000ff">// file couldn't be opened.</font>

                <font color="#2e8b57"><b>void</b></font>    clearBinds();
                                <font color="#0000ff">// Clear all bind variables.</font>

                <font color="#2e8b57"><b>void</b></font>    substitution(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *value);
                <font color="#2e8b57"><b>void</b></font>    substitution(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>long</b></font> value);
                <font color="#2e8b57"><b>void</b></font>    substitution(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>double</b></font> value,
                                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> precision,
                                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> scale);
                                <font color="#0000ff">// Define a substitution variable.</font>

                <font color="#2e8b57"><b>void</b></font>    inputBind(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *value);
                <font color="#2e8b57"><b>void</b></font>    inputBind(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>long</b></font> value);
                <font color="#2e8b57"><b>void</b></font>    inputBind(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>double</b></font> value,
                                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> precision,
                                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> scale);
                <font color="#2e8b57"><b>void</b></font>    inputBindBlob(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *value,
                                                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font> size);
                <font color="#2e8b57"><b>void</b></font>    inputBindClob(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *value,
                                                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font> size);
                                <font color="#0000ff">// Define an input bind variable.</font>

                <font color="#2e8b57"><b>void</b></font>    defineOutputBind(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable,
                                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font> bufferlength);
                                <font color="#0000ff">// Define an output bind variable.</font>
                                <font color="#0000ff">// &quot;bufferlength&quot; bytes will be reserved</font>
                                <font color="#0000ff">// to store the value.</font>
                <font color="#2e8b57"><b>void</b></font>    defineOutputBindBlob(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Define a BLOB output bind variable.</font>
                <font color="#2e8b57"><b>void</b></font>    defineOutputBindClob(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Define a CLOB output bind variable.</font>
                <font color="#2e8b57"><b>void</b></font>    defineOutputBindCursor(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Define a cursor output bind variable.</font>

                <font color="#2e8b57"><b>void</b></font>    substitutions(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **variables,
                                                <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **values);
                <font color="#2e8b57"><b>void</b></font>    substitutions(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **variables,
                                                <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>long</b></font> *values);
                <font color="#2e8b57"><b>void</b></font>    substitutions(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **variables,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>double</b></font> *values,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> *precisions,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> *scales);
                                <font color="#0000ff">// Define an array of substitution variables.</font>
                <font color="#2e8b57"><b>void</b></font>    inputBinds(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **variables, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **values);
                <font color="#2e8b57"><b>void</b></font>    inputBinds(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **variables,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font> *values);
                <font color="#2e8b57"><b>void</b></font>    inputBinds(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **variables,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>double</b></font> *values,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> *precisions,
                                        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> *scales);
                                <font color="#0000ff">// Define an array of input bind variables.</font>

                <font color="#2e8b57"><b>void</b></font>    validateBinds();
                                <font color="#0000ff">// If you are binding to any variables that </font>
                                <font color="#0000ff">// might not actually be in your query, call </font>
                                <font color="#0000ff">// this to ensure that the database won't try </font>
                                <font color="#0000ff">// to bind them unless they really are in the </font>
                                <font color="#0000ff">// query.  There is a performance penalty for</font>
                                <font color="#0000ff">// calling this method.</font>

                <font color="#2e8b57"><b>int</b></font>     executeQuery();
                                <font color="#0000ff">// Execute the query that was previously </font>
                                <font color="#0000ff">// prepared and bound.</font>

                <font color="#2e8b57"><b>int</b></font>     fetchFromBindCursor();
                                <font color="#0000ff">// Fetch from a cursor that was returned as</font>
                                <font color="#0000ff">// an output bind variable.</font>

                <font color="#2e8b57"><b>char</b></font>    *getOutputBind(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Get the value stored in a previously</font>
                                <font color="#0000ff">// defined output bind variable.</font>
                <font color="#2e8b57"><b>long</b></font>    getOutputBindAsLong(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Get the value stored in a previously</font>
                                <font color="#0000ff">// defined output bind variable as a long</font>
                                <font color="#0000ff">// integer.</font>
                <font color="#2e8b57"><b>double</b></font>  getOutputBindAsDouble(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Get the value stored in a previously</font>
                                <font color="#0000ff">// defined output bind variable as a double</font>
                                <font color="#0000ff">// precision floating point number.</font>
                <font color="#2e8b57"><b>long</b></font>    getOutputBindLength(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Get the length of the value stored in a</font>
                                <font color="#0000ff">// previously defined output bind variable.</font>
                sqlrcursor      *getOutputBindCursor(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *variable);
                                <font color="#0000ff">// Get the cursor associated with a previously</font>
                                <font color="#0000ff">// defined output bind variable.</font>


                <font color="#2e8b57"><b>int</b></font>     openCachedResultSet(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *filename);
                                <font color="#0000ff">// Opens a cached result set.</font>
                                <font color="#0000ff">// Returns 1 on success and 0 on failure.</font>

                <font color="#2e8b57"><b>int</b></font>     colCount();
                                <font color="#0000ff">// Returns the number of columns in the current</font>
                                <font color="#0000ff">// result set.</font>
                <font color="#2e8b57"><b>int</b></font>     rowCount();
                                <font color="#0000ff">// Returns the number of rows in the current </font>
                                <font color="#0000ff">// result set (if the result set is being</font>
                                <font color="#0000ff">// stepped through, this returns the number</font>
                                <font color="#0000ff">// of rows processed so far).</font>
                <font color="#2e8b57"><b>int</b></font>     totalRows();
                                <font color="#0000ff">// Returns the total number of rows that will </font>
                                <font color="#0000ff">// be returned in the result set.  Not all </font>
                                <font color="#0000ff">// databases support this call.  Don't use it </font>
                                <font color="#0000ff">// for applications which are designed to be </font>
                                <font color="#0000ff">// portable across databases.  -1 is returned</font>
                                <font color="#0000ff">// by databases which don't support this option.</font>
                <font color="#2e8b57"><b>int</b></font>     affectedRows();
                                <font color="#0000ff">// Returns the number of rows that were </font>
                                <font color="#0000ff">// updated, inserted or deleted by the query.</font>
                                <font color="#0000ff">// Not all databases support this call.  Don't </font>
                                <font color="#0000ff">// use it for applications which are designed </font>
                                <font color="#0000ff">// to be portable across databases.  -1 is </font>
                                <font color="#0000ff">// returned by databases which don't support </font>
                                <font color="#0000ff">// this option.</font>
                <font color="#2e8b57"><b>int</b></font>     firstRowIndex();
                                <font color="#0000ff">// Returns the index of the first buffered row.</font>
                                <font color="#0000ff">// This is useful when buffering only part of</font>
                                <font color="#0000ff">// the result set at a time.</font>
                <font color="#2e8b57"><b>int</b></font>     endOfResultSet();
                                <font color="#0000ff">// Returns 0 if part of the result set is still</font>
                                <font color="#0000ff">// pending on the server and 1 if not.  This</font>
                                <font color="#0000ff">// method can only return 0 if </font>
                                <font color="#0000ff">// setResultSetBufferSize() has been called</font>
                                <font color="#0000ff">// with a parameter other than 0.</font>


                <font color="#2e8b57"><b>char</b></font>    *errorMessage();
                                <font color="#0000ff">// If a query failed and generated an error, </font>
                                <font color="#0000ff">// the error message is available here.  If </font>
                                <font color="#0000ff">// the query succeeded then this method </font>
                                <font color="#0000ff">// returns a NULL.</font>


                <font color="#2e8b57"><b>void</b></font>    getNullsAsEmptyStrings();
                                <font color="#0000ff">// Tells the connection to return NULL fields</font>
                                <font color="#0000ff">// and output bind variables as empty strings. </font>
                                <font color="#0000ff">// This is the default.</font>
                <font color="#2e8b57"><b>void</b></font>    getNullsAsNulls();
                                <font color="#0000ff">// Tells the connection to return NULL fields</font>
                                <font color="#0000ff">// and output bind variables as NULL's rather</font>
                                <font color="#0000ff">// than as empty strings.</font>


                <font color="#2e8b57"><b>char</b></font>    *getField(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>char</b></font>    *getField(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns a pointer to the value of the </font>
                                <font color="#0000ff">// specified row and column.</font>
                <font color="#2e8b57"><b>long</b></font>    getFieldAsLong(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>long</b></font>    getFieldAsLong(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the specified field as a long</font>
                                <font color="#0000ff">// integer.</font>
                <font color="#2e8b57"><b>double</b></font>  getFieldAsDouble(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>double</b></font>  getFieldAsDouble(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the specified field as a double</font>
                                <font color="#0000ff">// precision floating point number.</font>
                <font color="#2e8b57"><b>long</b></font>    getFieldLength(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>long</b></font>    getFieldLength(<font color="#2e8b57"><b>int</b></font> row, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the length of the </font>
                                <font color="#0000ff">// specified row and column.</font>
                <font color="#2e8b57"><b>char</b></font>    **getRow(<font color="#2e8b57"><b>int</b></font> row);
                                <font color="#0000ff">// Returns a null terminated array of the </font>
                                <font color="#0000ff">// values of the fields in the specified row.</font>
                <font color="#2e8b57"><b>long</b></font>    *getRowLengths(<font color="#2e8b57"><b>int</b></font> row);
                                <font color="#0000ff">// Returns a null terminated array of the </font>
                                <font color="#0000ff">// lengths of the fields in the specified row.</font>
                <font color="#2e8b57"><b>char</b></font>    **getColumnNames();
                                <font color="#0000ff">// Returns a null terminated array of the </font>
                                <font color="#0000ff">// column names of the current result set.</font>
                <font color="#2e8b57"><b>char</b></font>    *getColumnName(<font color="#2e8b57"><b>int</b></font> col);
                                <font color="#0000ff">// Returns the name of the specified column.</font>
                <font color="#2e8b57"><b>char</b></font>    *getColumnType(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>char</b></font>    *getColumnType(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the type of the specified column.</font>
                <font color="#2e8b57"><b>int</b></font>     getColumnLength(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>int</b></font>     getColumnLength(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the number of bytes required on</font>
                                <font color="#0000ff">// the server to store the data.</font>
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font>   getColumnPrecision(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font>   getColumnPrecision(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the precision of the specified</font>
                                <font color="#0000ff">// column.</font>
                                <font color="#0000ff">// Precision is the total number of digits in</font>
                                <font color="#0000ff">// a number.  eg: 123.45 has a precision of 5.</font>
                                <font color="#0000ff">// For non-numeric types, it's the number of</font>
                                <font color="#0000ff">// characters in the string.</font>
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font>   getColumnScale(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>long</b></font>   getColumnScale(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the scale of the specified column.</font>
                                <font color="#0000ff">// Scale is the total number of digits to the</font>
                                <font color="#0000ff">// right of the decimal point in a number.</font>
                                <font color="#0000ff">// eg: 123.45 has a scale of 2.</font>
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font>  getColumnIsNullable(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font>  getColumnIsNullable(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns 1 if the specified column can</font>
                                <font color="#0000ff">// contain nulls and 0 otherwise.</font>
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font>  getColumnIsPrimaryKey(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font>  getColumnIsPrimaryKey(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns 1 if the specified column is a</font>
                                <font color="#0000ff">// primary key and 0 otherwise.</font>
                <font color="#2e8b57"><b>int</b></font>     getLongest(<font color="#2e8b57"><b>int</b></font> col);
                <font color="#2e8b57"><b>int</b></font>     getLongest(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *col);
                                <font color="#0000ff">// Returns the length of the longest field</font>
                                <font color="#0000ff">// in the specified column.</font>


                <font color="#2e8b57"><b>int</b></font>     getResultSetId();
                                <font color="#0000ff">// Returns the internal ID of this result set.</font>
                                <font color="#0000ff">// This parameter may be passed to another </font>
                                <font color="#0000ff">// cursor for use in the resumeResultSet() </font>
                                <font color="#0000ff">// method.</font>
                <font color="#2e8b57"><b>void</b></font>    suspendResultSet();
                                <font color="#0000ff">// Tells the server to leave this result</font>
                                <font color="#0000ff">// set open when the connection calls </font>
                                <font color="#0000ff">// suspendSession() so that another connection </font>
                                <font color="#0000ff">// can connect to it using resumeResultSet() </font>
                                <font color="#0000ff">// after it calls resumeSession().</font>
                <font color="#2e8b57"><b>int</b></font>     resumeResultSet(<font color="#2e8b57"><b>int</b></font> id);
                                <font color="#0000ff">// Resumes a result set previously left open </font>
                                <font color="#0000ff">// using suspendSession().</font>
                                <font color="#0000ff">// Returns 1 on success and 0 on failure.</font>
                <font color="#2e8b57"><b>int</b></font>     resumeCachedResultSet(<font color="#2e8b57"><b>int</b></font> id, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *filename);
                                <font color="#0000ff">// Resumes a result set previously left open</font>
                                <font color="#0000ff">// using suspendSession() and continues caching</font>
                                <font color="#0000ff">// the result set to &quot;filename&quot;.</font>
                                <font color="#0000ff">// Returns 1 on success and 0 on failure.</font>

<font color="#a020f0">        #include </font><font color="#ff00ff">&lt;sqlrelay/private/sqlrcursor.h&gt;</font>
};

<font color="#a020f0">#endif</font>
</pre>
</body>
</html>
