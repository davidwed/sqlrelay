<html>
<head>
<title>firstworks   Installing SQL Relay</title>
<link href="../css/styles.css" rel="stylesheet">
</head>
<body>

<span class="heading1">Installing SQL Relay</span>

<ul>
<li><a href="#platforms">Supported Platforms</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#unixlinux">Installation on Linux, Unix or Unix-like Platforms</a></li>
<ul>
<li><a href="#downloading">Downloading SQL Relay</a></li>
<li><a href="#extracting">Extracting SQL Relay</a></li>
<li><a href="#compiling">Building SQL Relay</a></li>
<li><a href="#installing">Installing SQL Relay</a></li>
<li><a href="#rpms">Installing SQL Relay RPMS</a></li>
</ul>
<li><a href="#windows">Installation on Windows</a></li>
<ul>
<li><a href="#windownloading">Downloading SQL Relay</a></li>
<li><a href="#winextracting">Extracting SQL Relay</a></li>
<li><a href="#wincompiling">Building and Installing SQL Relay</a></li>
<li><a href="#wininstalling">Installing SQL Relay</a></li>
</ul>
</ul>


<a name="platforms"></a>
<span class="heading2">Supported Platforms</span>

<p>All SQL Relay components should build and run on relatively modern versions of Linux, Unix or Unix-like systems including Solaris, FreeBSD, NetBSD, OpenBSD, Mac OS X, Haiku and Cygwin, though there are currently some performance and compatibility issues under Cygwin.</p>

<p>x86 and x86_64 platforms are supported, as are non-x86 architectures such as ARM, Sparc, Mips, PPC and others.</p>

<p>uClib/Linux-based systems should also be supported.</p>

<p>The command line clients and C, C++ and .NET API's should build and run natively on Windows using Visual Studio but the server components do not yet build and run natively on Windows.</p>


<a name="prerequisites"></a>
<span class="heading2">Prerequisites</span>

<p>Before you can compile SQL Relay, you will need to install some pre-requisites.</p>

<p>To build any part of SQL Relay, you need to install the Rudiments library, which is available at: <a target="_top" href="http://rudiments.sourceforge.net">rudiments.sourceforge.net</a></p>

<p>To build the non-C/C++ API's, you need to install one or more of
<a href="http://www.perl.org">Perl</a>, 
<a href="http://www.php.org">PHP</a>,
<a href="http://www.python.org">Python</a>,
<a href="http://www.ruby-lang.org">Ruby</a>,
<a href="http://tcl.sourceforge.net">TCL</a>,
<a href="http://java.sun.com">Java</a> (see note),
<a href="http://www.zope.org">Zope</a> or
<a href="http://www.erlang.org">Erlang</a>.
Note that these API's are not supported natively on Windows though many do work under Cygwin.</p>

<p>To build the C, C++, .NET and ADO.NET API's natively on Windows, you need to install Microsoft Visual Studio or Microsoft Visual Studio Express.</p>

<p>To build the database connection daemons, you need to install one or more of
<a target="_top" href="http://www.oracle.com">Oracle</a>,
<a target="_top" href="http://web.mysql.com">MySQL</a>, 
<a target="_top" href="http://www.postgresql.org">PostgreSQL</a>, 
<a target="_top" href="http://www.sqlite.org">SQLite</a>,
<a target="_top" href="http://www.unixodbc.org">unixODBC</a>,
<a target="_top" href="http://www.iodbc.org">iODBC</a>,
<a target="_top" href="http://www.ibm.com/software/data/db2/">DB2</a>,
<a target="_top" href="http://www.firebirdsql.com/">Firebird</a>,
<a target="_top" href="http://www.sybase.com">Sybase</a> or
<a target="_top" href="http://www.freetds.org">FreeTDS</a> (for accessing either
<a target="_top" href="http://www.sybase.com">Sybase</a> or
<a target="_top" href="http://www.microsof.com/sql/default.html">MS SQL Server</a>),
<a target="_top" href="http://mdbtools.sourceforge.net">MDB Tools</a> for accessing MS Access Databases.
Note that the database connection components are not supported natively under Windows though some do work under Cygwin.</p>


<br>
<a name="unixlinux"></a>
<span class="heading1">Installation on Linux, Unix or Unix-like Platforms</span><br><br>


<a name="downloading"></a>
<span class="heading2">Downloading SQL Relay</span>

<p>You can download the most current source distribution of SQL Relay from <a href="http://sqlrelay.sourceforge.net">sqlrelay.sourceforge.net</a>.</p>

<p>For Linux, Unix or Cygwin installations, download the tar.gz file.</p>


<a name="extracting"></a>
<span class="heading2">Extracting SQL Relay</span>

<p>To extract the source distribution, copy the file to a location on your machine that you have read/write access and execute the following commands:</p>

<blockquote><b>
gunzip sqlrelay-X.XX.tar.gz<br>
tar xf sqlrelay-X.XX.tar
</b></blockquote>

<p>(Where X.XX is replaced with the version of SQL Relay that you downloaded.)</p>

<p>This will create a sqlrelay-X.XX directory.</p>


<a name="compiling"></a>
<span class="heading2">Building SQL Relay</span>

<p>To build SQL Relay, change directories to the one that was created by the extraction, make sure your ORACLE_HOME environment variable is set if you want to include support for Oracle, and run:</p>

<blockquote><b>
configure<br>
make
</b></blockquote>

<p>The configure script takes lots of command line options, most of which tell it where to find prerequisite software in case any of it is installed in non-standard locations.  It also takes the --prefix option in case you want to install SQL Relay somewhere other than /usr/local/firstworks.  For example:</p>

<blockquote><b>
configure --prefix=/usr/local
</b></blockquote>

<p>This invocation would cause the libraries to be installed in /usr/local/lib, the header files in /usr/local/include, the binaries and scripts to be installed in /usr/local/bin, etc.</p>

<p>There are also options for using cross-compilers and enabling debug and profiling.  To see the full list of available options, run:</p>

<blockquote><b>
configure --help
</b></blockquote>

<p>Note that when using Cygwin, SQL Relay cannot be built against non-Cygwin dll's.  You can't, for instance, build against the Oracle, Sybase, the native Windows version of MySQL or the native Windows versions of Perl, Python, PHP, etc.  Many languages and a few databases come with Cygwin though and others can be compiled from source under Cygwin.</p>

<p>Also note, that when using Cygwin, you must use the Cygwin shell to build SQL Relay, rather than the Windows Command Line or DOS prompt.</p>

<a name="installing"></a>
<span class="heading2">Installing SQL Relay</span>

<p>To install SQL Relay become superuser and run:</p>

<blockquote><b>
make install
</b></blockquote>

<p>Libraries are installed in /usr/local/firstworks/lib.  Include files are installed in /usr/local/firstworks/include.  Binaries and scripts are installed in /usr/local/firstworks/bin.  An example config file is installed in /usr/local/firstworks/etc.  Java libraries are installed in /usr/local/firstworks/java.  Files for other programming languages are installed in the appropriate language-specific directories.</p>
	
<p>If you install SQL Relay as root, init scripts and files will be installed in the appropriate places under /etc for your system.  If you install SQL Relay as a non-root user, the init scripts and files will be installed in similar places under /usr/local/firstworks/etc.</p>

<p>To uninstall SQL Relay become superuser and run:</p>

<blockquote><b>
make uninstall
</b></blockquote>


<a name="rpms"></a>
<span class="heading2">Installing SQL Relay RPMS</span>

<p>If your system supports RedHat Package Manager version 4.0.3 or greater then you can build RPMS by running the following command against the source distribution tarball:</p>

<blockquote><b>
<p>rpm -ta sqlrelay-X.XX.tar.gz</p>
<p>(where X.XX is replaced with the version number)</p>
</b></blockquote>

<p>You can instruct the build process not to build certain modules by giving it one of the following flags:</p>

<blockquote><b>
-without db2<br>
-without freetds<br>
-without firebird<br>
-without mysql<br>
-without odbc<br>
-without oracle<br>
-without postgresql<br>
-without sqlite<br>
-without sybase<br>
-without mdbtools<br>
-without perl<br>
-without python<br>
-without php<br>
-without tcl<br>
-without java<br>
-without zope<br>
</b></blockquote>

<p>For example, if you want to build everything but the oracle and zope modules, then you would run the following command:</p>

<blockquote><b>
<p>rpm -ta -without oracle -without zope sqlrelay-X.XX.tar.gz</p>
<p>(where X.XX is replaced with the version number)</p>
</b></blockquote>

<p>This will generate RPM's in the system-wide RPM directory (usually /usr/src/redhat/RPMS or /usr/local/rpm/RPMS) under the subdirectory corresponding to your system architecture.  You can install them by changing directories into that directory and executing the following command as root:</p>

<blockquote><b>
rpm -i --nodeps sqlrelay-*
</b></blockquote>


<br>
<a name="windows"></a>
<span class="heading1">Installation on Windows</span><br><br>


<a name="windownloading"></a>
<span class="heading2">Downloading SQL Relay</span>

<p>You can download the most current source distribution of SQL Relay from <a href="http://sqlrelay.sourceforge.net">sqlrelay.sourceforge.net</a>.</p>

<p>For native Windows installations, download the .zip file.</p>


<a name="winextracting"></a>
<span class="heading2">Extracting SQL Relay</span>

<p>To extract the source distribution, move the file to your desktop or a location on your machine that you have read/write access, right-click on the file and select "Extract All".</p>

<p>This will create a sqlrelay-X.XX folder.</p>

<p>(Where X.XX is replaced with the version of SQL Relay that you downloaded.)</p>


<a name="wincompiling"></a>
<span class="heading2">Building and Installing SQL Relay</span>

<p>The native Windows build process for SQL Relay is currently somewhat primitive.</p>

<p>If you are running Windows Vista or higher, as a non-Administrator users, you must first create the folder C:\Program Files\Firstworks and give yourself full access permissions.  This step is necessary if you are running as the Administrator or if you're running an older version of Windows.</p>

<p>Now, to build and install SQL Relay, open the Visual Studio Command Prompt and navigate to the base directory that was created when SQL Relay was extracted.</p>

<p>There should be a file named <i>make.batch</i> in that directory.  Rename this file to <i>make.bat</i>.  It is named with the .batch extension because various mail services don't allow .bat files to be emailed around, even if they are inside of an archive.  To get around this, the file must manually be renamed.  Now run:</p>

<blockquote><pre><b>
make
make install
</b></pre></blockquote>

<p>This should build and install SQL Relay.  Various components will be installed under C:\Program Files\Firstworks.  If SQL Relay is already installed there, the installation process will first remove it, then build it, then re-install it.</p>

<p>To run the command line programs, it is helpful to add C:\Program Files\Firstworks\bin to your PATH but not strictly necessary.  Alternatively, you could just navigate to C:\Program Files\Firstworks\bin and run them from there.</p>

<p>If you need to uninstall everything, just trash the C:\Program Files\Firstworks folder.  Note though that this will uninstall Rudiments as well.</p>

</body>
</html>
