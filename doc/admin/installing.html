<html>
<head>
<title>firstworks   Building and Installing SQL Relay</title>
<link href="../css/styles.css" rel="stylesheet">
</head>
<body>

<span class="heading1">Building and Installing SQL Relay</span>

<ul>
<li><a href="#platforms">Supported Platforms</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#unixlinux">Installation on Linux, Unix or Unix-like Platforms</a></li>
<ul>
<li><a href="#downloading">Downloading SQL Relay</a></li>
<li><a href="#extracting">Extracting SQL Relay</a></li>
<li><a href="#compiling">Building SQL Relay</a></li>
<li><a href="#installing">Installing SQL Relay</a></li>
</ul>
<li><a href="#windows">Installation on Windows</a></li>
<ul>
<li><a href="#windownloading">Downloading SQL Relay</a></li>
<li><a href="#winextracting">Extracting SQL Relay</a></li>
<li><a href="#wincompiling">Building SQL Relay</a></li>
<li><a href="#wininstalling">Installing SQL Relay</a></li>
</ul>
</ul>


<a name="platforms"></a>
<span class="heading2">Supported Platforms</span>

<p>All SQL Relay components should build and run on relatively modern versions of Linux, Unix or Unix-like systems including Solaris, FreeBSD, NetBSD, OpenBSD, Mac OS X, Haiku and Cygwin, though there are currently some performance and compatibility issues under Cygwin.</p>

<p>x86 and x86_64 platforms are supported, as are non-x86 architectures such as ARM, Sparc, Mips, PPC and others.</p>

<p>uClib/Linux-based systems are also supported.</p>

<p>The command line clients and C, C++ and .NET API's should build and run natively on Windows using Visual Studio but the server components do not yet build and run natively on Windows.</p>


<a name="prerequisites"></a>
<span class="heading2">Prerequisites</span>

<p>Before you can compile SQL Relay, you will need to install some pre-requisites.</p>

<p>To build any part of SQL Relay, you need to install the Rudiments library.  The library is available at <a target="_blank" href="http://rudiments.sourceforge.net/download.html">rudiments.sourceforge.net</a> and instructions for building and installing it are available at <a target="_blank" href="http://rudiments.sourceforge.net/rudiments/installing.html">Installing Rudiments</a>.</p>

<p>To build the non-C/C++ API's, you need to install one or more of
<a target="_blank" href="http://www.perl.org">Perl</a>, 
<a target="_blank" href="http://www.php.org">PHP</a>,
<a target="_blank" href="http://www.python.org">Python</a>,
<a target="_blank" href="http://www.ruby-lang.org">Ruby</a>,
<a target="_blank" href="http://tcl.sourceforge.net">TCL</a>,
<a target="_blank" href="http://java.sun.com">Java</a> or
<a target="_blank" href="http://www.erlang.org">Erlang</a>.
</p>

<p>Note that the Ruby, TCL and Erlang API's are not supported on Windows, though they may work under Cygwin.</p>

<p>To build the API's natively on Windows, you need to install Microsoft Visual Studio or Microsoft Visual Studio Express.</p>

<p>To build the database connection daemons, you need to install one or more of
<a target="_blank" href="http://www.oracle.com">Oracle</a>,
<a target="_blank" href="http://web.mysql.com">MySQL</a>, 
<a target="_blank" href="http://www.postgresql.org">PostgreSQL</a>, 
<a target="_blank" href="http://www.sqlite.org">SQLite</a>,
<a target="_blank" href="http://www.unixodbc.org">unixODBC</a>,
<a target="_blank" href="http://www.iodbc.org">iODBC</a>,
<a target="_blank" href="http://www.ibm.com/software/data/db2/">DB2</a>,
<a target="_blank" href="http://www.firebirdsql.com/">Firebird</a>,
<a target="_blank" href="http://www.sybase.com">SAP/Sybase</a> or
<a target="_blank" href="http://www.freetds.org">FreeTDS</a> (for accessing either
<a target="_blank" href="http://www.sybase.com">SAP/Sybase</a> or
<a target="_blank" href="http://www.microsof.com/sql/default.html">MS SQL Server</a>),
<a target="_blank" href="http://mdbtools.sourceforge.net">MDB Tools</a> for accessing MS Access Databases.
</p>

<p>Note that the database connection components are not supported natively under Windows though some do work under Cygwin.</p>


<br>
<a name="unixlinux"></a>
<span class="heading1">Installation on Linux, Unix or Unix-like Platforms</span><br><br>


<a name="downloading"></a>
<span class="heading2">Downloading SQL Relay</span>

<p>You can download the most current source distribution of SQL Relay from <a target="_top" href="http://sqlrelay.sourceforge.net">sqlrelay.sourceforge.net</a>.</p>

<p>For Linux, Unix or Cygwin installations, download the tar.gz file.</p>


<a name="extracting"></a>
<span class="heading2">Extracting SQL Relay</span>

<p>To extract the source distribution, move the file to a location on your machine that you have read/write access and execute the following commands:</p>

<blockquote><b>
gunzip sqlrelay-X.XX.tar.gz<br>
tar xf sqlrelay-X.XX.tar
</b></blockquote>

<p>(Where X.XX is replaced with the version of SQL Relay that you downloaded.)</p>

<p>This will create a sqlrelay-X.XX directory.</p>


<a name="compiling"></a>
<span class="heading2">Building SQL Relay</span>

<p>To build SQL Relay, navigate to the directory that was created by the extraction, make sure your ORACLE_HOME environment variable is set if you want to include support for Oracle, and run:</p>

<blockquote><b>
configure<br>
make
</b></blockquote>

<p>The configure script takes lots of command line options, most of which tell it where to find prerequisite software in case any of it is installed in non-standard locations.  It also takes the --prefix option in case you want to install it somewhere other than /usr/local/firstworks.  For example:</p>

<blockquote><b>
configure --prefix=/usr/local
</b></blockquote>

<p>This invocation would cause the libraries to be installed in /usr/local/lib, the header files in /usr/local/include, the binaries and scripts to be installed in /usr/local/bin, etc.</p>

<p>There are also options for using cross-compilers and enabling debug and profiling.  To see the full list of available options, run:</p>

<blockquote><b>
configure --help
</b></blockquote>

<p>There are several things to note when using Cygwin.</p>

<ul>
<li>You must use the Cygwin shell to build SQL Relay, rather than the Windows Command Line or DOS prompt.</li>
<li>The <b>file</b> command must be present.  If it is not, the build will fail and you will get a very cryptic error.</li>
<li>SQL Relay cannot be built against non-Cygwin dll's.  You can't, for instance, build against the Oracle, SAP/Sybase, the native Windows version of MySQL or the native Windows versions of Perl, Python, PHP, etc.  Many languages and a few databases come with Cygwin though and others can be compiled from source under Cygwin.</li>
</ul>

<a name="installing"></a>
<span class="heading2">Installing SQL Relay</span>

<p>By default, on Unix or Linux, everything is installed under /usr/local/firstworks by default.  You should either create that directory and give yourself full access permissions or install as root.</p>

<p>To install SQL Relay run:</p>

<blockquote><b>
make install
</b></blockquote>

<p>Libraries are installed in /usr/local/firstworks/lib.  Include files are installed in /usr/local/firstworks/include.  Binaries and scripts are installed in /usr/local/firstworks/bin.  An example config file is installed in /usr/local/firstworks/etc.  Java libraries are installed in /usr/local/firstworks/java.  Files for other programming languages are installed in the appropriate language-specific directories.</p>
	
<p>If you install SQL Relay as root, init scripts and files will be installed in the appropriate places under /etc for your system.  If you install SQL Relay as a non-root user, the init scripts and files will be installed in similar places under /usr/local/firstworks/etc.</p>

<p>To uninstall SQL Relay run:</p>

<blockquote><b>
make uninstall
</b></blockquote>


<br>
<a name="windows"></a>
<span class="heading1">Installation on Windows</span><br><br>


<a name="windownloading"></a>
<span class="heading2">Downloading SQL Relay</span>

<p>You can download the most current source distribution of SQL Relay from <a target="_top" href="http://sqlrelay.sourceforge.net">sqlrelay.sourceforge.net</a>.</p>

<p>For a native Windows installation, download the .zip file.</p>


<a name="winextracting"></a>
<span class="heading2">Extracting SQL Relay</span>

<p>To extract the source distribution, move the file to your desktop or a location on your machine that you have read/write access, right-click on the file and select "Extract All".</p>

<p>This will create a sqlrelay-X.XX directory.</p>


<a name="wincompiling"></a>
<span class="heading2">Building SQL Relay</span>

<p>To build SQL Relay natively on Windows, open the Visual Studio Command Prompt and navigate to the directory that was created when SQL Relay was extracted.</p>

<p>There should be a file named <i>make.batch</i> in that directory.  Rename this file to <i>make.bat</i>.  It is named with the .batch extension because various mail services don't allow .bat files to be emailed around, even if they are inside of an archive.  To get around this, the file must manually be renamed.</p>

<p>Unfortunately, building SQL Relay on Windows is currently rather difficult.</p>

<p>The build scripts assume that correct versions of Perl, PHP, Python and Java are all available and intalled in the correct places.  If they are absent then build errors occur.</p>

<p>Perl is expected to be installed under C:\Perl (or C:\Perl64 for 64-bit builds).</p>

<p>Python is expected to be installed under C:\Python27</p>

<p>PHP is expected to be installed under C:\PHP</p>

<p>Java is expected to be installed under C:\Program Files\Java\jdk1.8.0_20 (or C:\Program Files (x86)\Java\jdk1.8.0_20 for 64-bit builds).</p>

<p>Though inconvenient, it is possible to modify the <i>make.bat</i> file manually to exclude certain API's.</p>

<p>There are 4 build options.  SQL Relay can be built as 32-bit or 64-bit binaries, and with or without Common Language Runtime (CLR) support.  There are advantages and disadvantages to building each way but you must build SQL Relay with the same option that you built Rudiments with.</p>

<p>To build 32-bit without CLR support, run:</p>

<blockquote><b>
make
</b></blockquote>

<p>To build 32-bit with CLR support, run:</p>

<blockquote><b>
make clr
</b></blockquote>

<p>To build 64-bit without CLR support, run:</p>

<blockquote><b>
make 64
</b></blockquote>

<p>To build 64-bit with CLR support, run:</p>

<blockquote><b>
make clr64
</b></blockquote>


<a name="wininstalling"></a>
<span class="heading2">Installing SQL Relay</span>

<p>By default, on Windows, most components are installed under C:\Program Files\Firstworks for 64-bit builds or C:\Program Files (x86)\Firstworks for 32-bit builds.  You should either create the appropriate directory and give yourself full access permissions or install as Administrator.</p>

<p>To install 32-bit SQL Relay run:</p>

<blockquote><b>
make install
</b></blockquote>

<p>To install 64-bit SQL Relay run:</p>

<blockquote><b>
make install64
</b></blockquote>

<p>To uninstall SQL Relay run:</p>

<blockquote><b>
make uninstall
</b></blockquote>

<p>To run the command line programs, it is helpful to add C:\Program Files\Firstworks\bin or C:\Program Files (x86)\Firstworks\bin to your PATH, as approriate, but not strictly necessary.  Alternatively, you could just navigate to C:\Program Files\Firstworks\bin or C:\Program Files (x86)\Firstworks\bin and run them from there.</p>

</body>
</html>
